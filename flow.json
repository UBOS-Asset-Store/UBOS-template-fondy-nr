[
    {
        "id": "e9b39beaf22954a3",
        "type": "tab",
        "label": "Links",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c740254358c79788",
        "type": "tab",
        "label": "ENV/Links",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c8b39bad946d8ab6",
        "type": "tab",
        "label": "Auth Module",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7b13882ad5aa8e09",
        "type": "tab",
        "label": "Orders",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b87c9b19d6d9d69c",
        "type": "tab",
        "label": "Invoices",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "70e61bdba033aaf8",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "48bc075398022cd7",
        "type": "tab",
        "label": "Flow 2",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "81031a41452292e5",
        "type": "group",
        "z": "c8b39bad946d8ab6",
        "name": "Roles",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "04ab9e97bf9e23e7",
            "84a24b2bf96c7d10",
            "561598685195f480",
            "c5be1687df4038a9",
            "fe134326442270d0",
            "a5211f330054a0f9",
            "b0766e91bd6c6a00",
            "d9487f0690457157",
            "9710436b969b38d7",
            "68b716a28a9c06f9",
            "31c23a05e29832de",
            "67d53a0197042a25",
            "e7c108f3663fd09c",
            "22579b498a3c1141",
            "69547a71e13702ba",
            "c2a121b11062dbc8",
            "99069fd281c3aa62",
            "1abe7468edf9c502",
            "3baac374b1dd3f4d",
            "ee3708d6d2779c2c",
            "3594cb050006f93b",
            "612e0a2b392767a6",
            "d223f3d36f46a91d",
            "731ac723f96cc33b",
            "d805f50510a64b71",
            "110f980283b587bc",
            "b26cafe18475e3cb",
            "97c44ea10c943cb4",
            "c1c36f3949756248",
            "306adf550fae80e8"
        ],
        "x": 894,
        "y": 1859,
        "w": 692,
        "h": 722
    },
    {
        "id": "d78377c07a215120",
        "type": "group",
        "z": "c8b39bad946d8ab6",
        "name": "Authorization",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "5c6e2dd94ba411ce",
            "672799ed948f1313",
            "b085f10213c6a2fc",
            "e594c405f087b6cf",
            "0608e9f35bdcacf1",
            "1adb12ad2ffdeb42",
            "d8b4284445386cd5",
            "d390b9504c129252",
            "b457f0b5c3fd5d96",
            "097b05d6f95dab62",
            "33a4e3695faf855e",
            "47a3231e1f267545",
            "dd3e208dfbba0a56",
            "265641df05c1ca83",
            "de79ea462e97e016",
            "73893182e2e2ed57",
            "cfc7631182b5ef67",
            "e8da10b5c113d139",
            "87b2820c2bf1143e",
            "21e68f3de4fa527b",
            "c4baf76948a8dc38",
            "a602a24988dcc60f",
            "77f7fee169a929cd",
            "a1180b2b1b551c2c",
            "6f81187c8d88e4de",
            "1a6b5d862a0b4bfc",
            "ca2dc46c7edc0fb2",
            "2d9ec1b926f8fb35",
            "1b7ab9bcbae8961f",
            "e49d1c22247329f1",
            "be2ed7f861399f69",
            "962e2be5ddd19cfc",
            "a4b43da2c7ab788f",
            "79c17e7d8ed1f939",
            "c67252247235be7c",
            "d8f65e08d1802e8e",
            "92a82d990292b9c2",
            "95ce8e1f931c2caa",
            "b42cb8e11e780105",
            "9b40d9caf853741d",
            "7ad3662b16de3eaf",
            "e653dc9c2aa956f2",
            "0b6ff6d92b1de7e7",
            "2a2d93b53c8a1966",
            "26ad7dce297ad8e7",
            "e26194f8f4aedcd3",
            "f2f94b0b491998e3",
            "e4082ecde347ac24",
            "9ed90dc87878d5c1",
            "831f0bc99fde7925",
            "376f7da2f0d85f32",
            "9da58b8ba7897ee6",
            "bb1864602327c1ca",
            "eed04ab51fe181f6",
            "6197204f97d99e26",
            "8c18463582ac198c",
            "406b08af64a38632",
            "46d2feb29eb7f617",
            "ba0fdb3c55f49767",
            "3b0fca787d0682d1",
            "99544f5cb03a9f23",
            "32fb51525caa70d8",
            "c193a98b11e16770",
            "f833e1216c97cff7",
            "d2dc6d60f2aadf80",
            "62ac94f341138925",
            "71d0784401d97a30",
            "6012ab98a19cbb6a",
            "ccbf43ec2e0f83d7"
        ],
        "x": 14,
        "y": 19,
        "w": 1952,
        "h": 1022
    },
    {
        "id": "2229ae9934019399",
        "type": "group",
        "z": "c8b39bad946d8ab6",
        "name": "Confirm Email Registration",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "6d762311464829e7",
            "9a785ddcdaf6df0d",
            "9ef904e08c1b1ac1",
            "13e4e31799cdc417",
            "b4488590d344582f",
            "19089ad57199af39",
            "5fe531e8c9bf55b6",
            "636a9bb0cdc28a94",
            "85976ad92833929a",
            "a2b1bc579a4c0ced"
        ],
        "x": 14,
        "y": 1079,
        "w": 952,
        "h": 162
    },
    {
        "id": "5bf7ccb6c6709633",
        "type": "group",
        "z": "c8b39bad946d8ab6",
        "name": "Reset Paaword",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "970bf1d3e8383bba",
            "c823a259da378156",
            "2082fa66df328468",
            "3b262e8c754b5f29",
            "bdbcc19d02a07b56",
            "9c78085fd79972cb",
            "2eda0c91d0b75786",
            "2687dc71562c4d72",
            "d09ec9996f8a154c",
            "17248297231b9d88",
            "d8e9faa5f5797221",
            "59a6366d8be0ed5e",
            "a605c9337c4c16d3",
            "ed02bf967732b00f",
            "97dc27c464c28717",
            "4f97e46839f52868",
            "d52f6d33dbea5a1b",
            "ddf35fbb3e263951",
            "0d5a011ed0707629",
            "2212b62e77474999",
            "d32809a33993ab1c",
            "6730dfa61287b9f2",
            "a2eb69e6ad5db371",
            "80ae78b49345f62c",
            "654fcb097eed7e68",
            "9fe3a92c904e973d",
            "71ea35313c1e5bbe",
            "d12866b139615b07",
            "45455fa4faeda4c6",
            "c4d39042ddfb3c4c",
            "ca0b1f9a3c42aad6",
            "7df30165a4d0a7eb",
            "36a8ed88d4ee5217"
        ],
        "x": 14,
        "y": 1299,
        "w": 1492,
        "h": 502
    },
    {
        "id": "3b2ecc05f3cef5f7",
        "type": "group",
        "z": "c8b39bad946d8ab6",
        "name": "User Management",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "2083b217673380ca",
            "ac9687b0e33d5319",
            "5189344f4260b4cb",
            "5cc768d59c9037f5",
            "58eb2605635a4f7e",
            "66961bddfd5aa161",
            "08b7f75f949f6937",
            "258e18ed74ffabde",
            "655fc308a4013906",
            "2709d229c1198629",
            "277dc08e100cba9a",
            "bdb1c0ed58d664b3",
            "90ea91af87880852",
            "47d7659c57682dc5",
            "0148d4c43311575a",
            "edf7b992521b758b",
            "bfda0ffbb10779bc",
            "0ad420bdb40c7f48",
            "44c147950358453b",
            "0107039c4340e3b2",
            "e82f14a9819d4d19",
            "37630c5145f4933f",
            "4c2bfcca94198e63",
            "97840b426439aec0",
            "8bf4f333b8910d6e"
        ],
        "x": 14,
        "y": 2639,
        "w": 932,
        "h": 462
    },
    {
        "id": "a8bcf74ef7690d27",
        "type": "group",
        "z": "c8b39bad946d8ab6",
        "name": "Modules",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "081c8c3d3092e3d2",
            "8c9188bca9c91600",
            "8e90850289063c0f",
            "ca87b60d60b99eb0",
            "48a302c4afb1b770",
            "c3b02c1f4edbee09",
            "2b147567f51c6f9d",
            "8155b8084ded1330",
            "94ae2989955beeda",
            "b017876ae60e280c",
            "98b2c82db768e5e1",
            "edf06a17bf884f9f",
            "33228ac20bb88129",
            "8a003992c216e032",
            "8886a378d607c9c3",
            "cdf04d878afee1d5",
            "5cbf5ba2c4c74a4f",
            "64d32109fbb50503",
            "149aa57b044f0aac",
            "b473ee4234249f14",
            "620b6e5d1c9e4858",
            "d868f70232c05f3c",
            "382da0ed3f1de901",
            "411b69c681820b0e",
            "500861a5b5623bc5",
            "cd5c1d01d15467f7",
            "81bdba71023d5429",
            "3000e64189b3ff39",
            "943cda0940fbfc65",
            "6d5c9e567735125f",
            "0d8e4b5e24ee7f2c",
            "080f87898258c1e5",
            "3835bedd5b59284c",
            "acef5e4ee852a34b",
            "920e683749d9b015",
            "7001dd6d6d4622d6",
            "ae293692fead8475",
            "732470b6749e6a6e",
            "84af4b543dc711ed"
        ],
        "x": 4,
        "y": 1859,
        "w": 862,
        "h": 722
    },
    {
        "id": "4004417c3f3f1e00",
        "type": "group",
        "z": "c740254358c79788",
        "name": "linking",
        "style": {
            "label": true
        },
        "nodes": [
            "346e518816416d1d",
            "b7c366424b9b7e6e",
            "1764f8568a80ddbd",
            "286431cd31c9fc7a",
            "4307ecabcc6486c7",
            "6544322b922c1a49",
            "7739c6ef4683fa04",
            "5accd99f247f88ec",
            "7ce3e0949b4a483f",
            "6a3c98d4b6b016de",
            "a902fac8c21085e6",
            "84c75bed55ab1dd8"
        ],
        "x": 474,
        "y": -1,
        "w": 1062,
        "h": 202
    },
    {
        "id": "94d6a2efc1fffc7c",
        "type": "group",
        "z": "7b13882ad5aa8e09",
        "name": "Orders",
        "style": {
            "stroke": "#16342e",
            "label": true
        },
        "nodes": [
            "68973df1a1acd194",
            "4115f2bd810f6db1",
            "d9688197e8f32124",
            "0432352c4179b24e",
            "63e3882424b7b31a",
            "c76463c7de832d71",
            "4b581d0466ce81cb",
            "36cf9053dadc29d6",
            "6f82f37ba3ca2c5d",
            "537fe82dbd103dab",
            "509a5140e4bea532",
            "bfa0d85aa7b76391",
            "87ee588dc76b318f",
            "9351e32f4cd0c3e6",
            "651937a9b54fd794",
            "5e642e437335d2c9",
            "fcb8703fc675a19c",
            "1c5beeeeab7b90c1",
            "4c34036ed489adaf",
            "52f4ade65d9359c4",
            "00cef083d7d2a71f",
            "a51d9a0f0a1c6482",
            "4549778a61280110",
            "749f34a64a5afaf5",
            "5cb7cc2a0f0f63b1",
            "0a99a535c9830530",
            "a4eeae1641a1331b",
            "da9ecd86e6ad0798",
            "989f55fc64c61ea2",
            "656881d4449f8fb3",
            "e726b3b068fdadb9",
            "6fa8b46cfe746528",
            "e48a0a321c5d12e6"
        ],
        "x": 34,
        "y": 39,
        "w": 1152,
        "h": 522
    },
    {
        "id": "bc1a6d29708ed7bf",
        "type": "group",
        "z": "c740254358c79788",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f238790cdeb0e06a",
            "229fbbb1211e2859",
            "f03d93b1443bacb6",
            "8de06fcccb1aea88",
            "f28d7ee04c24ec6f",
            "97be0fc0bd78363f",
            "c208b3d7a17e54e2",
            "0135c9207abeab77",
            "6ce519452e66d70c",
            "9fa09b4eab07e05e"
        ],
        "x": 54,
        "y": 239,
        "w": 872,
        "h": 182
    },
    {
        "id": "a37ab3c2d5e20f98",
        "type": "group",
        "z": "c740254358c79788",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "cf3a1b1c08af9e02",
            "a6f14e9d46f3ce8d",
            "cd8e51d185ed7b7e",
            "2c3eedcffea1403b"
        ],
        "x": 44,
        "y": 39,
        "w": 372,
        "h": 162
    },
    {
        "id": "069093a0339fea69",
        "type": "group",
        "z": "b87c9b19d6d9d69c",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "12518de2dc64b7f7",
            "d18b6a3a.371bb8",
            "ea8a6b4f.0f78d8",
            "3db5291c.e27a0e",
            "1508f6dbbd91689a",
            "4c2721d4acd880ad",
            "2a2777c907eb9abe",
            "1dc3e9bbeb44bca8",
            "0debe6848905e6d0",
            "b3febc5a633ed622",
            "c301a1c1c4b6819d",
            "aadd550f57b9aa7c",
            "fe14d839e73913f4",
            "9d511cc3.3c3f8",
            "be547d277a20b4b9",
            "4d5d387e4c191d24",
            "30fb5c4e516bd7f7",
            "c6c282ce867c5a61"
        ],
        "x": 928,
        "y": 39,
        "w": 824,
        "h": 682
    },
    {
        "id": "894a214f93518dc0",
        "type": "group",
        "z": "7b13882ad5aa8e09",
        "name": "ready",
        "style": {
            "label": true
        },
        "nodes": [
            "fa247fa4d83f23c7",
            "64fc754cdd329fe6",
            "7e6d50522655bc9b",
            "3c449cfccb6433ef",
            "7a3c7cbebd06ec66"
        ],
        "x": 34,
        "y": 599,
        "w": 782,
        "h": 122
    },
    {
        "id": "30fb5c4e516bd7f7",
        "type": "group",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "ready",
        "style": {
            "label": true
        },
        "nodes": [
            "f4fb8add7133933b",
            "0232b9cb7db76abb",
            "8ddd4d28cfc7c7a3",
            "bf45cc0ca8374e5a",
            "0a650acf33b3e54f"
        ],
        "x": 954,
        "y": 459,
        "w": 772,
        "h": 122
    },
    {
        "id": "f168eeb2f9b6dc07",
        "type": "mongodb",
        "hostname": "${fondydb-host}",
        "topology": "direct",
        "connectOptions": "authSource=admin",
        "port": "27017",
        "db": "${fondydb-db}",
        "name": ""
    },
    {
        "id": "7846481e870df3f9",
        "type": "mongodb",
        "hostname": "${fondydb-host}",
        "topology": "direct",
        "connectOptions": "authSource=admin",
        "port": "27017",
        "db": "${fondydb-db}",
        "name": ""
    },
    {
        "id": "2ea4d611b4476b64",
        "type": "link in",
        "z": "e9b39beaf22954a3",
        "name": "findDB",
        "links": [],
        "x": 130,
        "y": 60,
        "wires": [
            [
                "ccfe58d6c0c35bad"
            ]
        ],
        "l": true
    },
    {
        "id": "2e067bd1492a1a46",
        "type": "link out",
        "z": "e9b39beaf22954a3",
        "name": "link out 3",
        "mode": "return",
        "links": [],
        "x": 435,
        "y": 60,
        "wires": []
    },
    {
        "id": "850f26bd11c45c81",
        "type": "link in",
        "z": "e9b39beaf22954a3",
        "name": "insertDB",
        "links": [],
        "x": 140,
        "y": 180,
        "wires": [
            [
                "ad76acd06af34364",
                "7a3aef4bde311dfa"
            ]
        ],
        "l": true
    },
    {
        "id": "7a3aef4bde311dfa",
        "type": "link out",
        "z": "e9b39beaf22954a3",
        "name": "link out 4",
        "mode": "return",
        "links": [],
        "x": 255,
        "y": 140,
        "wires": []
    },
    {
        "id": "4858d251cc2afe5c",
        "type": "link in",
        "z": "e9b39beaf22954a3",
        "name": "updateDB",
        "links": [],
        "x": 140,
        "y": 300,
        "wires": [
            [
                "33bdd240470ffc2b",
                "ba42b3f1e81a19d9"
            ]
        ],
        "l": true
    },
    {
        "id": "ba42b3f1e81a19d9",
        "type": "link out",
        "z": "e9b39beaf22954a3",
        "name": "link out 5",
        "mode": "return",
        "links": [],
        "x": 255,
        "y": 260,
        "wires": []
    },
    {
        "id": "ad76acd06af34364",
        "type": "mongodb out",
        "z": "e9b39beaf22954a3",
        "mongodb": "7846481e870df3f9",
        "name": "MongoDB",
        "collection": "",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 310,
        "y": 180,
        "wires": []
    },
    {
        "id": "33bdd240470ffc2b",
        "type": "mongodb out",
        "z": "e9b39beaf22954a3",
        "mongodb": "7846481e870df3f9",
        "name": "MongoDB",
        "collection": "",
        "payonly": true,
        "upsert": false,
        "multi": true,
        "operation": "update",
        "x": 310,
        "y": 300,
        "wires": []
    },
    {
        "id": "ccfe58d6c0c35bad",
        "type": "mongodb in",
        "z": "e9b39beaf22954a3",
        "mongodb": "7846481e870df3f9",
        "name": "MongoDB",
        "collection": "",
        "operation": "find",
        "x": 310,
        "y": 60,
        "wires": [
            [
                "2e067bd1492a1a46"
            ]
        ]
    },
    {
        "id": "346e518816416d1d",
        "type": "link in",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "name": "find",
        "links": [],
        "x": 515,
        "y": 80,
        "wires": [
            [
                "a902fac8c21085e6"
            ]
        ]
    },
    {
        "id": "b7c366424b9b7e6e",
        "type": "link in",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "name": "aggregate",
        "links": [],
        "x": 515,
        "y": 160,
        "wires": [
            [
                "84c75bed55ab1dd8"
            ]
        ]
    },
    {
        "id": "1764f8568a80ddbd",
        "type": "link in",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "name": "insert",
        "links": [],
        "x": 1045,
        "y": 80,
        "wires": [
            [
                "7739c6ef4683fa04",
                "7ce3e0949b4a483f"
            ]
        ]
    },
    {
        "id": "286431cd31c9fc7a",
        "type": "link in",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "name": "update",
        "links": [],
        "x": 1045,
        "y": 140,
        "wires": [
            [
                "5accd99f247f88ec",
                "6a3c98d4b6b016de"
            ]
        ]
    },
    {
        "id": "4307ecabcc6486c7",
        "type": "link out",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "name": "link out 1",
        "mode": "return",
        "links": [],
        "x": 885,
        "y": 80,
        "wires": []
    },
    {
        "id": "6544322b922c1a49",
        "type": "link out",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "name": "link out 2",
        "mode": "return",
        "links": [],
        "x": 885,
        "y": 160,
        "wires": []
    },
    {
        "id": "7739c6ef4683fa04",
        "type": "link out",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "name": "link out 4",
        "mode": "return",
        "links": [],
        "x": 1255,
        "y": 40,
        "wires": []
    },
    {
        "id": "5accd99f247f88ec",
        "type": "link out",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "name": "link out 5",
        "mode": "return",
        "links": [],
        "x": 1205,
        "y": 120,
        "wires": []
    },
    {
        "id": "7ce3e0949b4a483f",
        "type": "mongodb out",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "mongodb": "7846481e870df3f9",
        "name": "",
        "collection": "",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "insert",
        "x": 1370,
        "y": 80,
        "wires": []
    },
    {
        "id": "6a3c98d4b6b016de",
        "type": "mongodb out",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "mongodb": "7846481e870df3f9",
        "name": "",
        "collection": "",
        "payonly": false,
        "upsert": false,
        "multi": false,
        "operation": "update",
        "x": 1230,
        "y": 160,
        "wires": []
    },
    {
        "id": "a902fac8c21085e6",
        "type": "mongodb in",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "mongodb": "7846481e870df3f9",
        "name": "",
        "collection": "",
        "operation": "find",
        "x": 700,
        "y": 80,
        "wires": [
            [
                "4307ecabcc6486c7"
            ]
        ]
    },
    {
        "id": "84c75bed55ab1dd8",
        "type": "mongodb in",
        "z": "c740254358c79788",
        "g": "4004417c3f3f1e00",
        "mongodb": "7846481e870df3f9",
        "name": "",
        "collection": "",
        "operation": "aggregate",
        "x": 700,
        "y": 160,
        "wires": [
            [
                "6544322b922c1a49"
            ]
        ]
    },
    {
        "id": "f238790cdeb0e06a",
        "type": "http in",
        "z": "c740254358c79788",
        "g": "bc1a6d29708ed7bf",
        "name": "",
        "url": "/uploadFile",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 160,
        "y": 360,
        "wires": [
            [
                "f03d93b1443bacb6"
            ]
        ]
    },
    {
        "id": "229fbbb1211e2859",
        "type": "http response",
        "z": "c740254358c79788",
        "g": "bc1a6d29708ed7bf",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 850,
        "y": 360,
        "wires": []
    },
    {
        "id": "f03d93b1443bacb6",
        "type": "function",
        "z": "c740254358c79788",
        "g": "bc1a6d29708ed7bf",
        "name": "set buffer",
        "func": "msg.payload = msg.req.files[0].buffer\n// msg.filepath = '/data/default/'+ msg.req.query.fileName\nmsg.filepath = '/data/default/' + msg.req.files[0].originalname\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 360,
        "wires": [
            [
                "8de06fcccb1aea88",
                "9fa09b4eab07e05e"
            ]
        ]
    },
    {
        "id": "8de06fcccb1aea88",
        "type": "file",
        "z": "c740254358c79788",
        "g": "bc1a6d29708ed7bf",
        "name": "",
        "filename": "filepath",
        "filenameType": "msg",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 540,
        "y": 360,
        "wires": [
            [
                "229fbbb1211e2859",
                "9fa09b4eab07e05e"
            ]
        ]
    },
    {
        "id": "f28d7ee04c24ec6f",
        "type": "http in",
        "z": "c740254358c79788",
        "g": "bc1a6d29708ed7bf",
        "name": "",
        "url": "/file/:file",
        "method": "get",
        "upload": true,
        "swaggerDoc": "",
        "x": 150,
        "y": 280,
        "wires": [
            [
                "c208b3d7a17e54e2"
            ]
        ]
    },
    {
        "id": "97be0fc0bd78363f",
        "type": "http response",
        "z": "c740254358c79788",
        "g": "bc1a6d29708ed7bf",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 850,
        "y": 280,
        "wires": []
    },
    {
        "id": "c208b3d7a17e54e2",
        "type": "function",
        "z": "c740254358c79788",
        "g": "bc1a6d29708ed7bf",
        "name": "set filepath",
        "func": "msg.filepath = `/data/default/${msg.req.params.file}`\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 280,
        "wires": [
            [
                "0135c9207abeab77"
            ]
        ]
    },
    {
        "id": "0135c9207abeab77",
        "type": "file in",
        "z": "c740254358c79788",
        "g": "bc1a6d29708ed7bf",
        "name": "",
        "filename": "filepath",
        "filenameType": "msg",
        "format": "",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 540,
        "y": 280,
        "wires": [
            [
                "6ce519452e66d70c"
            ]
        ]
    },
    {
        "id": "6ce519452e66d70c",
        "type": "function",
        "z": "c740254358c79788",
        "g": "bc1a6d29708ed7bf",
        "name": "headers",
        "func": "msg.headers = {\n    'content-type': 'image/jpeg'\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 280,
        "wires": [
            [
                "97be0fc0bd78363f"
            ]
        ]
    },
    {
        "id": "cf3a1b1c08af9e02",
        "type": "inject",
        "z": "c740254358c79788",
        "g": "a37ab3c2d5e20f98",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 80,
        "wires": [
            [
                "a6f14e9d46f3ce8d"
            ]
        ]
    },
    {
        "id": "a6f14e9d46f3ce8d",
        "type": "function",
        "z": "c740254358c79788",
        "g": "a37ab3c2d5e20f98",
        "name": "helpers",
        "func": "const helpers = {\n    convertToKyivTime: () => {\n        const date = new Date();\n        date.setTime(date.getTime() + 2 * 60 * 60 * 1000);\n        return date;\n    },\n    replaceSymbols: (title) =>{\n        const replacements = {\n            '&#39;&#39;': \"'\", // Double single quote\n            '&#39;': \"'\",    // Single quote\n            '&quot;': \"'\",   // Double quote\n            // Add more replacement mappings as needed\n        };\n\n        return title.replace(/&#39;&#39;|&quot;/g, \"'\")\n    }\n}\n\nglobal.set('helpers', helpers)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "4f4267dc1221a3a2",
        "type": "inject",
        "z": "c740254358c79788",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 460,
        "wires": [
            [
                "802b612aa6ef27e0"
            ]
        ]
    },
    {
        "id": "802b612aa6ef27e0",
        "type": "http request",
        "z": "c740254358c79788",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://demo3.servio.support/sb_stend/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": false,
        "headers": [],
        "x": 310,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "cd8e51d185ed7b7e",
        "type": "inject",
        "z": "c740254358c79788",
        "g": "a37ab3c2d5e20f98",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 160,
        "wires": [
            [
                "2c3eedcffea1403b"
            ]
        ]
    },
    {
        "id": "2c3eedcffea1403b",
        "type": "function",
        "z": "c740254358c79788",
        "g": "a37ab3c2d5e20f98",
        "name": "ENV",
        "func": "\nconst processENV = {\n    password: \"\",\n    merchant_id: \"\"\n}\n\nglobal.set('processENV', processENV)\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "9fa09b4eab07e05e",
        "type": "debug",
        "z": "c740254358c79788",
        "g": "bc1a6d29708ed7bf",
        "name": "debug 247",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 380,
        "wires": []
    },
    {
        "id": "96319c9ad2f004ba",
        "type": "http in",
        "z": "c740254358c79788",
        "name": "",
        "url": "/css",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 660,
        "wires": [
            [
                "efe9fe1b92292e23"
            ]
        ]
    },
    {
        "id": "27ddc948c4bf9c17",
        "type": "http response",
        "z": "c740254358c79788",
        "name": "",
        "statusCode": "",
        "headers": {
            "content-type": "text/css"
        },
        "x": 390,
        "y": 660,
        "wires": []
    },
    {
        "id": "efe9fe1b92292e23",
        "type": "template",
        "z": "c740254358c79788",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "css",
        "syntax": "mustache",
        "template": "\nbody{\n    background-color: #e0cfbd!important;\n    min-width: 100vw;\n    min-height: 100vh;\n}\n\n.input .bp3-input{\n    border-radius: 5px !important;\n}\n\n.header{\n    width: 100vw!important;\n    top:0px !important;\n    left:0px !important;\n    padding:0px !important;\n}\n\n\n.ant-table-thead th[title=\"Назва\"]{\n    width:450px!important;\n\n}\n\n\n.ant-table-row-level-0{\n    background-color: #f5eada!important;\n}\n.ant-table-row-level-1{\n   background-color:#F9F5F1!important;\n}\n.ant-table-row-level-2{\n    background-color: #fdfcfc!important;\n}",
        "output": "str",
        "x": 260,
        "y": 660,
        "wires": [
            [
                "27ddc948c4bf9c17",
                "9fa09b4eab07e05e"
            ]
        ]
    },
    {
        "id": "7a02111fa91e22da",
        "type": "http in",
        "z": "c740254358c79788",
        "name": "",
        "url": "/uploadFonts",
        "method": "post",
        "upload": true,
        "swaggerDoc": "",
        "x": 170,
        "y": 820,
        "wires": [
            [
                "5e423ee44613de95"
            ]
        ]
    },
    {
        "id": "5e423ee44613de95",
        "type": "function",
        "z": "c740254358c79788",
        "name": "function 329",
        "func": "msg.payload = msg.req.files[0].buffer\n// msg.filepath = '/data/default/'+ msg.req.query.fileName\nmsg.filepath = '/data/fonts/' + msg.req.files[0].originalname\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 820,
        "wires": [
            [
                "cd1416674225dbbd"
            ]
        ]
    },
    {
        "id": "cd1416674225dbbd",
        "type": "file",
        "z": "c740254358c79788",
        "name": "",
        "filename": "",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 520,
        "y": 820,
        "wires": [
            [
                "b74c2e5333b30f95"
            ]
        ]
    },
    {
        "id": "b74c2e5333b30f95",
        "type": "http response",
        "z": "c740254358c79788",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 670,
        "y": 820,
        "wires": []
    },
    {
        "id": "71d0784401d97a30",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "registration",
        "url": "/registration",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 480,
        "wires": [
            [
                "f2f94b0b491998e3",
                "e26194f8f4aedcd3"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "ccbf43ec2e0f83d7",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 400,
        "wires": []
    },
    {
        "id": "04ab9e97bf9e23e7",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "func": "msg.collection = \"admin_roles\";\n\nmsg.payload={\n    name:msg.payload.name,\n    deleted:false,\n    permissions: [],\n    createdAt: new Date((new Date().toISOString()))\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1200,
        "y": 2120,
        "wires": [
            [
                "561598685195f480",
                "9710436b969b38d7"
            ]
        ]
    },
    {
        "id": "84a24b2bf96c7d10",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "createRole",
        "url": "/createRole",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 980,
        "y": 2120,
        "wires": [
            [
                "04ab9e97bf9e23e7"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "561598685195f480",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1350,
        "y": 2140,
        "wires": []
    },
    {
        "id": "c5be1687df4038a9",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "getRoles",
        "url": "/getRoles",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 980,
        "y": 1920,
        "wires": [
            [
                "68b716a28a9c06f9"
            ]
        ]
    },
    {
        "id": "fe134326442270d0",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1470,
        "y": 1940,
        "wires": []
    },
    {
        "id": "a5211f330054a0f9",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "addModuleToRole",
        "url": "/addModuleToRole",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 1010,
        "y": 2220,
        "wires": [
            [
                "d9487f0690457157"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "b0766e91bd6c6a00",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1350,
        "y": 2240,
        "wires": []
    },
    {
        "id": "d9487f0690457157",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "func": "msg.collection = \"admin_roles\";\n\nlet crud = {\n    \"canCreate\": false,\n    \"canRead\": false,\n    \"canEdit\": false,\n    \"canRemove\": false\n}\n\nmsg.payload.options.map(e => {\n    if (e == \"C\") {\n        crud.canCreate = true\n    }\n    else if (e == \"R\") {\n        crud.canRead = true\n    }\n    else if (e == \"U\") {\n        crud.canEdit = true\n    } else if (e == \"D\") {\n        crud.canRemove = true\n    }\n})\n\n\nlet modules = msg.payload.moduleName.map((name, index)=> {\n    return {\n        \"name\": name,\n        \"value\": msg.payload.moduleValue[index]\n    }\n\n})\n\nlet preparedModules\n = modules.map(item => {\n    return{\n        module: item.name,\n        moduleId: objectid(item.value),\n        ...crud\n    }\n})\n\nmsg.query={\n    \"_id\":objectid(msg.payload._id)\n}\n\nmsg.payload={\n    $push: {\n        permissions: {\n            $each: [...preparedModules]\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 1200,
        "y": 2220,
        "wires": [
            [
                "b0766e91bd6c6a00",
                "67d53a0197042a25"
            ]
        ]
    },
    {
        "id": "9710436b969b38d7",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "links": [
            "1764f8568a80ddbd"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1350,
        "y": 2100,
        "wires": [
            []
        ]
    },
    {
        "id": "68b716a28a9c06f9",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "func": "msg.collection=\"admin_roles\"\nmsg.payload={\n    deleted: false\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 1920,
        "wires": [
            [
                "31c23a05e29832de"
            ]
        ]
    },
    {
        "id": "31c23a05e29832de",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1350,
        "y": 1920,
        "wires": [
            [
                "fe134326442270d0",
                "d805f50510a64b71"
            ]
        ]
    },
    {
        "id": "67d53a0197042a25",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1350,
        "y": 2200,
        "wires": [
            []
        ]
    },
    {
        "id": "e7c108f3663fd09c",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "func": "msg.collection =\"admin_roles\"\n\nmsg.query={\n    _id: objectid(msg.payload._id)\n}\n\nmsg.payload={\n    $set:{\n        name: msg.payload.name\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 1200,
        "y": 2320,
        "wires": [
            [
                "69547a71e13702ba",
                "c2a121b11062dbc8"
            ]
        ]
    },
    {
        "id": "22579b498a3c1141",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "updateRole",
        "url": "/updateRole",
        "method": "put",
        "upload": false,
        "swaggerDoc": "",
        "x": 990,
        "y": 2320,
        "wires": [
            [
                "e7c108f3663fd09c"
            ]
        ],
        "icon": "font-awesome/fa-edit"
    },
    {
        "id": "69547a71e13702ba",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "10",
        "x": 1350,
        "y": 2300,
        "wires": [
            []
        ]
    },
    {
        "id": "c2a121b11062dbc8",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1350,
        "y": 2340,
        "wires": []
    },
    {
        "id": "99069fd281c3aa62",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "deleteModuleFromRole",
        "url": "/deleteModuleFromRole",
        "method": "delete",
        "upload": false,
        "swaggerDoc": "",
        "x": 1020,
        "y": 2520,
        "wires": [
            [
                "1abe7468edf9c502"
            ]
        ],
        "icon": "font-awesome/fa-remove"
    },
    {
        "id": "1abe7468edf9c502",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "func": "msg.collection = \"admin_roles\";\n\nmsg.query = {\n   \"_id\": objectid(msg.payload._id)\n};\n\nconst deleteModulesId = msg.payload.moduleId.map(i => objectid(i));\n\nmsg.payload = {\n    $pull: {\n        permissions: {\n            moduleId: {\n                $in: deleteModulesId\n            }\n        }\n    }\n}\n\n// msg.payload = {\n//     $pull: {\n//         \"permissions\": {\n//             \"moduleId\": objectid(msg.payload.moduleId)\n//         }\n//     }\n// }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 1200,
        "y": 2520,
        "wires": [
            [
                "3baac374b1dd3f4d",
                "731ac723f96cc33b"
            ]
        ]
    },
    {
        "id": "3baac374b1dd3f4d",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1350,
        "y": 2500,
        "wires": [
            []
        ]
    },
    {
        "id": "ee3708d6d2779c2c",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "deleteRole",
        "url": "/deleteRole",
        "method": "delete",
        "upload": false,
        "swaggerDoc": "",
        "x": 980,
        "y": 2420,
        "wires": [
            [
                "3594cb050006f93b"
            ]
        ],
        "icon": "font-awesome/fa-remove"
    },
    {
        "id": "3594cb050006f93b",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "func": "msg.collection =\"admin_roles\"\n\nmsg.query={\n    _id: objectid(msg.payload._id)\n}\n\nmsg.payload={\n    $set:{\n        deleted: true\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 1200,
        "y": 2420,
        "wires": [
            [
                "d223f3d36f46a91d",
                "612e0a2b392767a6"
            ]
        ]
    },
    {
        "id": "612e0a2b392767a6",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1350,
        "y": 2440,
        "wires": []
    },
    {
        "id": "d223f3d36f46a91d",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1350,
        "y": 2400,
        "wires": [
            []
        ]
    },
    {
        "id": "731ac723f96cc33b",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1350,
        "y": 2540,
        "wires": []
    },
    {
        "id": "d805f50510a64b71",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "all Roles",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1480,
        "y": 1900,
        "wires": []
    },
    {
        "id": "110f980283b587bc",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "get roles",
        "func": "msg.collection = \"admin_roles\"\nlet match = {};\nif (msg.payload.name != \",\" && msg.payload.name) {\n    match = {\n        name: { $regex: msg.payload.name, $options: \"i\" }\n    }\n}\n\nmsg.payload = {\n    deleted: false, \n    ...match\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 2020,
        "wires": [
            [
                "b26cafe18475e3cb"
            ]
        ]
    },
    {
        "id": "b26cafe18475e3cb",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1350,
        "y": 2020,
        "wires": [
            [
                "c1c36f3949756248",
                "97c44ea10c943cb4"
            ]
        ]
    },
    {
        "id": "97c44ea10c943cb4",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "all roles",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1480,
        "y": 2000,
        "wires": []
    },
    {
        "id": "c1c36f3949756248",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1470,
        "y": 2040,
        "wires": []
    },
    {
        "id": "306adf550fae80e8",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "81031a41452292e5",
        "name": "getAllRoles",
        "url": "/getAllRoles",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 990,
        "y": 2020,
        "wires": [
            [
                "110f980283b587bc"
            ]
        ],
        "info": "Use in: User Management"
    },
    {
        "id": "081c8c3d3092e3d2",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "createParentModule",
        "url": "/createParentModule",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 1980,
        "wires": [
            [
                "8e90850289063c0f"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "8c9188bca9c91600",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 510,
        "y": 2000,
        "wires": []
    },
    {
        "id": "8e90850289063c0f",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "func": "msg.collection = \"admin_modules\"\n\nmsg.payload = {\n    ...msg.payload,\n    deleted: false,\n    isParent: false\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1980,
        "wires": [
            [
                "5cbf5ba2c4c74a4f",
                "8c9188bca9c91600"
            ]
        ]
    },
    {
        "id": "ca87b60d60b99eb0",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "getModules",
        "url": "/getModules",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 1900,
        "wires": [
            [
                "c3b02c1f4edbee09"
            ]
        ]
    },
    {
        "id": "48a302c4afb1b770",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 630,
        "y": 1900,
        "wires": []
    },
    {
        "id": "c3b02c1f4edbee09",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "func": "msg.collection=\"admin_modules\"\nmsg.payload={\n    deleted:false\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1900,
        "wires": [
            [
                "33228ac20bb88129"
            ]
        ]
    },
    {
        "id": "2b147567f51c6f9d",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "createChildModule",
        "url": "/createChildModule",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 2300,
        "wires": [
            [
                "94ae2989955beeda"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "8155b8084ded1330",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 510,
        "y": 2300,
        "wires": []
    },
    {
        "id": "94ae2989955beeda",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "query",
        "func": "msg.collection = \"admin_modules\";\n\nif (msg.payload.parentModule) {\n    msg.query={\n        \"_id\": objectid(msg.payload.parentModule)\n    };\n\n    msg.payload = {\n        $addToSet: {\n            childModules: {\n                name: msg.payload.childModule,\n                page_id: msg.payload.childModule,\n                position: msg.payload.position\n            }\n        },\n        $set: {\n            isParent: true\n        }\n    }\n\n    return [msg,];\n} else {\n    \n    \n    msg.payload={\n        ...msg.payload,\n        deleted: false,\n        isParent: false\n    }\n    return [,msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 350,
        "y": 2300,
        "wires": [
            [
                "cdf04d878afee1d5",
                "8155b8084ded1330"
            ],
            [
                "8886a378d607c9c3",
                "8155b8084ded1330"
            ]
        ]
    },
    {
        "id": "b017876ae60e280c",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "deleteChildModule",
        "url": "/deleteChildModule",
        "method": "delete",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 2520,
        "wires": [
            [
                "98b2c82db768e5e1",
                "64d32109fbb50503"
            ]
        ],
        "icon": "font-awesome/fa-remove"
    },
    {
        "id": "98b2c82db768e5e1",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "query",
        "func": "msg.collection=\"admin_modules\";\n\nmsg.query = {\n    \"_id\": objectid(msg.payload._id)\n};\n\nmsg.payload = {\n    $pull: {\n        \"childModules\": {\n            \"name\": msg.payload.childModule_id\n        }\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 350,
        "y": 2520,
        "wires": [
            [
                "8a003992c216e032",
                "edf06a17bf884f9f"
            ]
        ]
    },
    {
        "id": "edf06a17bf884f9f",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 510,
        "y": 2500,
        "wires": []
    },
    {
        "id": "33228ac20bb88129",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 1900,
        "wires": [
            [
                "48a302c4afb1b770"
            ]
        ]
    },
    {
        "id": "8a003992c216e032",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 2540,
        "wires": [
            []
        ]
    },
    {
        "id": "8886a378d607c9c3",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "links": [
            "1764f8568a80ddbd"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 2340,
        "wires": [
            []
        ]
    },
    {
        "id": "cdf04d878afee1d5",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 2260,
        "wires": [
            []
        ]
    },
    {
        "id": "5cbf5ba2c4c74a4f",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "links": [
            "1764f8568a80ddbd"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 1960,
        "wires": [
            []
        ]
    },
    {
        "id": "64d32109fbb50503",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "came",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 2480,
        "wires": []
    },
    {
        "id": "149aa57b044f0aac",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "came",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 2380,
        "wires": []
    },
    {
        "id": "b473ee4234249f14",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 2440,
        "wires": [
            []
        ]
    },
    {
        "id": "620b6e5d1c9e4858",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "updateChildModule",
        "url": "/updateChildModule",
        "method": "put",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 2420,
        "wires": [
            [
                "d868f70232c05f3c",
                "149aa57b044f0aac"
            ]
        ],
        "icon": "font-awesome/fa-edit"
    },
    {
        "id": "d868f70232c05f3c",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "query",
        "func": "msg.collection = \"admin_modules\";\n\nmsg.query = {\n    \"_id\": objectid(msg.payload._id),\n    \"childModules.name\": msg.payload.name\n};\n\nmsg.payload = {\n    $set: {\n        \"childModules.$.position\": msg.payload.position\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 350,
        "y": 2420,
        "wires": [
            [
                "b473ee4234249f14",
                "382da0ed3f1de901"
            ]
        ]
    },
    {
        "id": "382da0ed3f1de901",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 510,
        "y": 2400,
        "wires": []
    },
    {
        "id": "2083b217673380ca",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "delete user query",
        "func": "msg.collection = \"admins\"\n\nmsg.query = {\n    \"_id\": objectid(msg.payload._id)\n};\n\nmsg.payload = {\n    $set: { \"deleted\": true }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 330,
        "y": 2880,
        "wires": [
            [
                "90ea91af87880852",
                "bdb1c0ed58d664b3"
            ]
        ]
    },
    {
        "id": "ac9687b0e33d5319",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "get users query",
        "func": "msg.collection = \"admins\";\n\nmsg.payload=[\n    {\n      $match:{\n        deleted:false\n      }\n    },\n    {\n      $lookup: {\n       \"from\": \"admin_roles\",\n       \"localField\": \"roles\",\n       \"foreignField\":\"_id\",\n       \"as\": \"role_items\"\n     }\n    }\n]\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2700,
        "wires": [
            [
                "5cc768d59c9037f5"
            ]
        ]
    },
    {
        "id": "5189344f4260b4cb",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "getUsers",
        "url": "/getUsers",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 2700,
        "wires": [
            [
                "ac9687b0e33d5319"
            ]
        ]
    },
    {
        "id": "5cc768d59c9037f5",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "links": [
            "b7c366424b9b7e6e"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 500,
        "y": 2700,
        "wires": [
            [
                "66961bddfd5aa161",
                "58eb2605635a4f7e"
            ]
        ]
    },
    {
        "id": "58eb2605635a4f7e",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 650,
        "y": 2720,
        "wires": []
    },
    {
        "id": "66961bddfd5aa161",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "all users",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 2680,
        "wires": []
    },
    {
        "id": "08b7f75f949f6937",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "editUserRole",
        "url": "/editUserRole",
        "method": "put",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 2780,
        "wires": [
            [
                "258e18ed74ffabde"
            ]
        ],
        "icon": "font-awesome/fa-edit"
    },
    {
        "id": "258e18ed74ffabde",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "edit role query",
        "func": "msg.collection = \"admins\";\n\nmsg.query = {\n    \"_id\": objectid(msg.payload._id)\n}\n\nmsg.payload = {\n    $set: {\n        \"roles\": [objectid(msg.payload.role)]\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 320,
        "y": 2780,
        "wires": [
            [
                "2709d229c1198629",
                "655fc308a4013906"
            ]
        ]
    },
    {
        "id": "655fc308a4013906",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 490,
        "y": 2760,
        "wires": [
            []
        ]
    },
    {
        "id": "2709d229c1198629",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 490,
        "y": 2800,
        "wires": []
    },
    {
        "id": "277dc08e100cba9a",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "deleteUser",
        "url": "/deleteUser",
        "method": "delete",
        "upload": true,
        "swaggerDoc": "",
        "x": 100,
        "y": 2880,
        "wires": [
            [
                "2083b217673380ca"
            ]
        ],
        "icon": "font-awesome/fa-remove"
    },
    {
        "id": "bdb1c0ed58d664b3",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 490,
        "y": 2900,
        "wires": []
    },
    {
        "id": "90ea91af87880852",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 490,
        "y": 2860,
        "wires": [
            []
        ]
    },
    {
        "id": "5c6e2dd94ba411ce",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "login",
        "url": "/login",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 90,
        "y": 120,
        "wires": [
            [
                "672799ed948f1313",
                "1b7ab9bcbae8961f"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "672799ed948f1313",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "check",
        "func": "const regexEmail = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nconst regexPassword = /^(?!.*\\s).{8,}/;\nconst email = msg.payload.email.toLowerCase();\n\nif (!regexEmail.test(email)) {\n    msg.statusCode = 401;\n    msg.payload = {\n        data: \"Email is invalid\",\n        code: 401\n    }\n\n    return [null, msg];\n\n} else if (!regexPassword.test(msg.payload.password)) {\n    msg.statusCode = 401;\n    msg.payload = {\n        data: \"The password is invalid. The value must be at least 8 characters and without whitespaces\",\n        code: 401\n    }\n\n    return [null, msg];\n    \n} else {\n    msg.collection = \"admins\"\n    msg.fromApp = msg.payload\n\n    node.warn(msg.fromApp)\n\n    msg.payload = {\n        email: email,\n        deleted: false,\n        active: true\n    }\n\n    return [msg, null];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 120,
        "wires": [
            [
                "d8f65e08d1802e8e",
                "9b40d9caf853741d"
            ],
            [
                "769c853fb108cedb",
                "53cd8649fa65084f"
            ]
        ]
    },
    {
        "id": "b085f10213c6a2fc",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1230,
        "y": 100,
        "wires": []
    },
    {
        "id": "e594c405f087b6cf",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "check auth",
        "func": "\nif(msg.payload.length === 0){\n    msg.statusCode = 401;\n    msg.payload = {\n        data: \"Incorrect email or password\",\n        code:401\n    }\n    node.warn(\"Email not found\");\n    return [null,msg]\n} else {\n\n    let check = await bcrypt.compare(msg.fromApp.password, msg.payload[0].password);\n\n    if (!check) {\n        msg.statusCode = 401;\n        msg.payload = {\n            data: \"Incorrect email or password\",\n            code: 401\n        }\n        node.warn(\"Password incorrect\");\n        return [null, msg]\n    }\n\n    if (msg.payload[0].active === false) {\n        msg.statusCode = 401;\n        msg.payload = {\n            data: \"Email not activated\",\n            code: 401\n        }\n        return [null, msg]\n    }\n}\n\n\n\nreturn[msg,null]",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "bcrypt",
                "module": "bcrypt"
            }
        ],
        "x": 850,
        "y": 120,
        "wires": [
            [
                "1adb12ad2ffdeb42",
                "77f7fee169a929cd"
            ],
            [
                "0608e9f35bdcacf1",
                "a1180b2b1b551c2c"
            ]
        ]
    },
    {
        "id": "0608e9f35bdcacf1",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1050,
        "y": 160,
        "wires": []
    },
    {
        "id": "1adb12ad2ffdeb42",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "jwt token",
        "func": "msg.payload = msg.payload[0]\nconst token = jwt.sign(\n    { user_id: msg.payload._id, email:msg.payload.email },\n    \"fGh2W42l\",\n    {\n        expiresIn: \"30d\",\n    }\n);\n\nmsg.cookies = {};\nmsg.cookies[\"user_token\"] = token;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            }
        ],
        "x": 1060,
        "y": 100,
        "wires": [
            [
                "b085f10213c6a2fc",
                "d8b4284445386cd5"
            ]
        ]
    },
    {
        "id": "d8b4284445386cd5",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1230,
        "y": 60,
        "wires": []
    },
    {
        "id": "d390b9504c129252",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "checkToken",
        "url": "/checkToken",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 860,
        "wires": [
            [
                "097b05d6f95dab62",
                "47a3231e1f267545"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "b457f0b5c3fd5d96",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "statusCode": "401",
        "headers": {},
        "x": 1040,
        "y": 900,
        "wires": []
    },
    {
        "id": "097b05d6f95dab62",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "check jwt",
        "func": "msg.check = msg.payload;\nconst decoded = jwt.verify(msg.payload.token, 'fGh2W42l');\nmsg.payload = decoded\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            }
        ],
        "x": 320,
        "y": 860,
        "wires": [
            [
                "33a4e3695faf855e",
                "73893182e2e2ed57"
            ]
        ]
    },
    {
        "id": "33a4e3695faf855e",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 490,
        "y": 820,
        "wires": []
    },
    {
        "id": "47a3231e1f267545",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "Checker",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 320,
        "y": 820,
        "wires": []
    },
    {
        "id": "dd3e208dfbba0a56",
        "type": "catch",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "scope": [
            "097b05d6f95dab62"
        ],
        "uncaught": false,
        "x": 90,
        "y": 960,
        "wires": [
            [
                "265641df05c1ca83",
                "21e68f3de4fa527b"
            ]
        ]
    },
    {
        "id": "265641df05c1ca83",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "func": "msg.payload = {\n    auth: \"Unautorizate\",\n    code: 401,\n    login_id: msg.check.login_id,\n    app_id: msg.check.app_id\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 960,
        "wires": [
            [
                "de79ea462e97e016",
                "e8da10b5c113d139"
            ]
        ]
    },
    {
        "id": "de79ea462e97e016",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 430,
        "y": 960,
        "wires": []
    },
    {
        "id": "73893182e2e2ed57",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "check",
        "func": "msg.collection = \"admins\"\nmsg.fromApp = msg.payload\nmsg.payload = {\n    // email : msg.fromApp.email,\n    _id: objectid(msg.payload.user_id),\n    deleted:false\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 490,
        "y": 860,
        "wires": [
            [
                "1a6b5d862a0b4bfc",
                "26ad7dce297ad8e7"
            ]
        ]
    },
    {
        "id": "cfc7631182b5ef67",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "check auth",
        "func": "\nif(msg.payload.length > 0){\n    msg.payload = msg.payload[0]\n    msg.user = {\n        auth: \"Success\",\n        code:200,\n        user: msg.payload\n    }\n    return [msg,null]\n}else{\n    msg.payload = {\n        auth: \"Unautorizate\",\n        code: 401,\n        login_id:msg.check.login_id,\n        app_id:msg.check.app_id\n    }\n    return [null,msg]\n}\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 860,
        "wires": [
            [
                "95ce8e1f931c2caa",
                "92a82d990292b9c2"
            ],
            [
                "b457f0b5c3fd5d96"
            ]
        ]
    },
    {
        "id": "e8da10b5c113d139",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 430,
        "y": 1000,
        "wires": []
    },
    {
        "id": "87b2820c2bf1143e",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1870,
        "y": 780,
        "wires": []
    },
    {
        "id": "21e68f3de4fa527b",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 270,
        "y": 1000,
        "wires": []
    },
    {
        "id": "c4baf76948a8dc38",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 820,
        "wires": []
    },
    {
        "id": "a602a24988dcc60f",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1870,
        "y": 820,
        "wires": []
    },
    {
        "id": "77f7fee169a929cd",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1050,
        "y": 60,
        "wires": []
    },
    {
        "id": "a1180b2b1b551c2c",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "err login",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1060,
        "y": 200,
        "wires": []
    },
    {
        "id": "6f81187c8d88e4de",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 640,
        "y": 120,
        "wires": [
            [
                "e594c405f087b6cf",
                "b42cb8e11e780105"
            ]
        ]
    },
    {
        "id": "1a6b5d862a0b4bfc",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 660,
        "y": 860,
        "wires": [
            [
                "cfc7631182b5ef67",
                "c4baf76948a8dc38"
            ]
        ]
    },
    {
        "id": "ca2dc46c7edc0fb2",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "links": [
            "b7c366424b9b7e6e"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1200,
        "y": 820,
        "wires": [
            [
                "2d9ec1b926f8fb35",
                "0cfa0691dcae508d"
            ]
        ]
    },
    {
        "id": "2d9ec1b926f8fb35",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "THIS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1410,
        "y": 780,
        "wires": []
    },
    {
        "id": "1b7ab9bcbae8961f",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "fromApp",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 320,
        "y": 60,
        "wires": []
    },
    {
        "id": "e49d1c22247329f1",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "signout",
        "url": "/signout",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 90,
        "y": 320,
        "wires": [
            [
                "79c17e7d8ed1f939",
                "a4b43da2c7ab788f"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "be2ed7f861399f69",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "Checker",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 500,
        "y": 280,
        "wires": []
    },
    {
        "id": "962e2be5ddd19cfc",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 670,
        "y": 320,
        "wires": []
    },
    {
        "id": "a4b43da2c7ab788f",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "Checker",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 320,
        "y": 280,
        "wires": []
    },
    {
        "id": "79c17e7d8ed1f939",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "check jwt",
        "func": "msg.cookies={\n    user_token: null\n}\n\nmsg.payload={\n    success: true\n}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 320,
        "wires": [
            [
                "be2ed7f861399f69",
                "c67252247235be7c"
            ]
        ]
    },
    {
        "id": "c67252247235be7c",
        "type": "delay",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 500,
        "y": 320,
        "wires": [
            [
                "962e2be5ddd19cfc"
            ]
        ]
    },
    {
        "id": "d8f65e08d1802e8e",
        "type": "delay",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 480,
        "y": 120,
        "wires": [
            [
                "6f81187c8d88e4de",
                "7ad3662b16de3eaf"
            ]
        ]
    },
    {
        "id": "92a82d990292b9c2",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "get roles",
        "func": "msg.collection = \"admin_roles\"\nmsg.payload = [\n    {\n        $match:{\n            \"_id\": ObjectId(msg.payload.roles)\n        }\n    },\n    {\n        $lookup: {\n            from: 'translation',\n            as: 'translation',\n            pipeline: [\n                {\n                    $match: {\n                        deleted: false,\n                        language: msg.user.user.language\n                    }\n                }\n            ]\n        }\n    },\n    {\n        $lookup:\n        {\n            from: \"admin_modules\",\n            localField: \"permissions.moduleId\",\n            foreignField: \"_id\",\n            as: \"menu\"\n    }\n},\n]\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "ObjectId",
                "module": "objectid"
            }
        ],
        "x": 1040,
        "y": 820,
        "wires": [
            [
                "ca2dc46c7edc0fb2"
            ]
        ]
    },
    {
        "id": "95ce8e1f931c2caa",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 780,
        "wires": []
    },
    {
        "id": "b42cb8e11e780105",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "msg from db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 80,
        "wires": []
    },
    {
        "id": "9b40d9caf853741d",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "msg to db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 500,
        "y": 80,
        "wires": []
    },
    {
        "id": "7ad3662b16de3eaf",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "msg delay to db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 160,
        "wires": []
    },
    {
        "id": "e653dc9c2aa956f2",
        "type": "catch",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "g",
        "scope": [
            "92a82d990292b9c2"
        ],
        "uncaught": false,
        "x": 1470,
        "y": 860,
        "wires": [
            [
                "0b6ff6d92b1de7e7"
            ]
        ]
    },
    {
        "id": "0b6ff6d92b1de7e7",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "show err Unautorizate",
        "func": "msg.payload ={\n    auth: \"Unautorizate\",\n    code: 401,\n    login_id: msg.check.login_id,\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 860,
        "wires": [
            [
                "a602a24988dcc60f",
                "2a2d93b53c8a1966"
            ]
        ]
    },
    {
        "id": "2a2d93b53c8a1966",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1870,
        "y": 860,
        "wires": []
    },
    {
        "id": "26ad7dce297ad8e7",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "query to db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 820,
        "wires": []
    },
    {
        "id": "e26194f8f4aedcd3",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 290,
        "y": 420,
        "wires": []
    },
    {
        "id": "f2f94b0b491998e3",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "check ",
        "func": "const regexEmail = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nconst regexPassword = /^(?!.*\\s).{8,}/;\nconst email = msg.payload.email.toLowerCase();\n\nif (!regexEmail.test(email)) {\n    msg.statusCode = 401;\n    msg.payload = {\n        data: \"Email is invalid\",\n        code: 401\n    }\n\n    return [null, msg];\n\n} else if (!regexPassword.test(msg.payload.password)) {\n    msg.statusCode = 401;\n    msg.payload = {\n        data: \"The password is invalid. The value must be at least 8 characters and without whitespaces\",\n        code: 401\n    }\n\n    return [null, msg];\n\n} else {\n    msg.collection = \"admins\";\n    msg.oldpayload = msg.payload;\n\n    msg.payload = {\n        email: email,\n        deleted: false\n    };\n\n    return [msg, null];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 480,
        "wires": [
            [
                "e4082ecde347ac24",
                "9ed90dc87878d5c1"
            ],
            [
                "82bf44e646ff81c1",
                "3d2a6611794a1aab"
            ]
        ]
    },
    {
        "id": "e4082ecde347ac24",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 460,
        "y": 460,
        "wires": [
            [
                "831f0bc99fde7925",
                "ccbf43ec2e0f83d7"
            ]
        ]
    },
    {
        "id": "9ed90dc87878d5c1",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "msg to db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 460,
        "y": 420,
        "wires": []
    },
    {
        "id": "831f0bc99fde7925",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "check",
        "func": "if (msg.payload.length > 0) {\n    if (!msg.payload[0].active) {\n        const decoded = jwt.verify(msg.payload[0].verifyToken, 'fGh2W42l');\n        const dateNow = new Date().getTime();\n\n        if (decoded.exp < dateNow) {\n            msg.query = { _id: objectid(msg.payload[0]._id) }\n            msg.payload = {\n                $set: {\n                    deleted: false\n                }\n            }\n\n            return [null, null, msg, null]\n        } else {\n            msg.payload = {\n                verifyToken: msg.payload[0].verifyToken,\n                email: msg.payload[0].email\n            }\n\n            return [null, null, null, msg]\n        }\n    } else {\n        msg.payload = {\n            data: \"This email address already exists\",\n            code: 400,\n        }\n        return [null, msg, null, null]\n    }\n}\nelse {\n    return [msg, null, null, null]\n}\n\n\n",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            },
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 650,
        "y": 460,
        "wires": [
            [
                "376f7da2f0d85f32"
            ],
            [
                "9da58b8ba7897ee6"
            ],
            [
                "6012ab98a19cbb6a"
            ],
            [
                "eed04ab51fe181f6"
            ]
        ]
    },
    {
        "id": "376f7da2f0d85f32",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "registration user",
        "func": "let randomColor = \"#\" + Math.floor(Math.random() * 16777215).toString(16);\nlet encryptedPassword = await bcrypt.hash(msg.oldpayload.password, 10);\nconst verifyToken = await jwt.sign(\n    { id: Math.round(Math.random()) },\n    \"fGh2W42l\",\n    {\n        expiresIn: \"30d\",\n    }\n);\n\n\nmsg.cookies = {};\nmsg.cookies[\"verify_token\"] = verifyToken;\nmsg.cookies[\"email_register\"] = msg.oldpayload.email;\n\nmsg.payload = {\n    \"_id\": objectid(),\n    \"deleted\": false,\n    \"avatarColor\": randomColor,\n    \"createdAt\": new Date(),\n    \"roles\": [objectid(\"656372c384809000110d5049\")],\n    \"active\": false,\n    \"firstname\": msg.oldpayload.firstname,\n    \"lastname\": msg.oldpayload.lastname,\n    \"email\": msg.oldpayload.email.toLowerCase(),\n    \"password\": encryptedPassword,\n    verifyToken,\n    resetPassToken: \"\",\n    resetPassExpireToken: null\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            },
            {
                "var": "bcrypt",
                "module": "bcrypt"
            },
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            }
        ],
        "x": 1040,
        "y": 420,
        "wires": [
            [
                "eed04ab51fe181f6",
                "6197204f97d99e26",
                "bb1864602327c1ca"
            ]
        ]
    },
    {
        "id": "9da58b8ba7897ee6",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "statusCode": "400",
        "headers": {},
        "x": 860,
        "y": 440,
        "wires": []
    },
    {
        "id": "bb1864602327c1ca",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "links": [
            "1764f8568a80ddbd"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1230,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "eed04ab51fe181f6",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "msg to email",
        "func": "const token = msg.payload.verifyToken;\nconst back = env.get(\"back\");\nconst url = `${back}/verifyToken?token=${token}`;\nconst text = `\n<div style=\"padding: 10px 0; color: black;\">\n    <h1>Confirm Your Email Address</h1>\n    <p>Tap the button below to confirm your email address. If you didn't create an account, you can delete this email.</p>\n    <a href=\"${url}\" target=\"_blank\" style=\"margin: 10px 0; display: inline-block; padding: 16px 36px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; color: #ffffff; text-decoration: none; border-radius: 6px; background: #95e4f0;\">Confirm</a>\n</div>\n`;\n\nmsg.to = msg.payload.email;\nmsg.topic = 'Verify';\nmsg.payload = text;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            }
        ],
        "x": 1250,
        "y": 500,
        "wires": [
            [
                "8c18463582ac198c",
                "406b08af64a38632"
            ]
        ]
    },
    {
        "id": "6197204f97d99e26",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "verified token",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1250,
        "y": 380,
        "wires": []
    },
    {
        "id": "8c18463582ac198c",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "msg to email",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1430,
        "y": 460,
        "wires": []
    },
    {
        "id": "406b08af64a38632",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1410,
        "y": 540,
        "wires": []
    },
    {
        "id": "46d2feb29eb7f617",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "repeatRegisterEmail",
        "url": "/repeatRegisterEmail",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 660,
        "wires": [
            [
                "ba0fdb3c55f49767",
                "3b0fca787d0682d1"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "ba0fdb3c55f49767",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "email and token",
        "func": "msg.payload = {\n    verifyToken: msg.req.cookies.verify_token,\n    email: msg.req.cookies.email_register.toLowerCase()\n}\nmsg.email = msg.req.cookies.email_register.toLowerCase();\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 660,
        "wires": [
            [
                "f833e1216c97cff7",
                "32fb51525caa70d8"
            ]
        ]
    },
    {
        "id": "3b0fca787d0682d1",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "came",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 310,
        "y": 700,
        "wires": []
    },
    {
        "id": "99544f5cb03a9f23",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 870,
        "y": 700,
        "wires": []
    },
    {
        "id": "32fb51525caa70d8",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "msg to email",
        "func": "const token = msg.payload.verifyToken;\nconst back = env.get(\"back\");\nconst url = `${back}/verifyToken?token=${token}`;\nconst text = `\n<div style=\"padding: 10px 0; color: black;\">\n    <h1>Confirm Your Email Address</h1>\n    <p>Tap the button below to confirm your email address. If you didn't create an account, you can delete this email.</p>\n    <a href=\"${url}\" target=\"_blank\" style=\"margin: 10px 0; display: inline-block; padding: 16px 36px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; color: #ffffff; text-decoration: none; border-radius: 6px; background: #95e4f0;\">Confirm</a>\n</div>\n`;\n\nmsg.to = msg.payload.email;\nmsg.topic = 'Verify';\nmsg.payload = text;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            }
        ],
        "x": 530,
        "y": 660,
        "wires": [
            [
                "c193a98b11e16770",
                "d2dc6d60f2aadf80"
            ]
        ]
    },
    {
        "id": "c193a98b11e16770",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "repeat msg to email",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 620,
        "wires": []
    },
    {
        "id": "f833e1216c97cff7",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "payload",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 620,
        "wires": []
    },
    {
        "id": "d2dc6d60f2aadf80",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "msg to page",
        "func": "msg.payload = {\n    data: `We sent the email \"${msg.email}\" again. Please, check your inbox or spam.`\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 700,
        "wires": [
            [
                "99544f5cb03a9f23",
                "62ac94f341138925"
            ]
        ]
    },
    {
        "id": "62ac94f341138925",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "finish",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 660,
        "wires": []
    },
    {
        "id": "6d762311464829e7",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "2229ae9934019399",
        "name": "verifyToken",
        "url": "/verifyToken",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 1160,
        "wires": [
            [
                "13e4e31799cdc417",
                "9ef904e08c1b1ac1"
            ]
        ]
    },
    {
        "id": "9a785ddcdaf6df0d",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "2229ae9934019399",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 850,
        "y": 1160,
        "wires": []
    },
    {
        "id": "9ef904e08c1b1ac1",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "2229ae9934019399",
        "name": "query to db",
        "func": "msg.collection = \"admins\";\nmsg.cameToken = msg.payload.token;\n\nmsg.payload = {\n    verifyToken: msg.payload.token\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 1160,
        "wires": [
            [
                "19089ad57199af39",
                "85976ad92833929a"
            ]
        ]
    },
    {
        "id": "13e4e31799cdc417",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "2229ae9934019399",
        "name": "came",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 310,
        "y": 1120,
        "wires": []
    },
    {
        "id": "b4488590d344582f",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "2229ae9934019399",
        "name": "finish",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1120,
        "wires": []
    },
    {
        "id": "19089ad57199af39",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "2229ae9934019399",
        "name": "query to db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 490,
        "y": 1120,
        "wires": []
    },
    {
        "id": "5fe531e8c9bf55b6",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "2229ae9934019399",
        "name": "res db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 1120,
        "wires": []
    },
    {
        "id": "636a9bb0cdc28a94",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "2229ae9934019399",
        "name": "redirect to page",
        "func": "node.warn(msg)\nconst token = await jwt.sign(\n    { user_id: msg.payload[0]._id, email: msg.payload[0].email },\n    \"fGh2W42l\",\n    {\n        expiresIn: \"30d\",\n    }\n);\n\nconst ui = env.get(\"ui\");\n\nmsg.token = token\nmsg.statusCode = 302\nmsg.headers = {\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Credentials\": true,\n    \"location\": `${ui}/Login`\n}\n\nmsg.collection = \"admins\";\nmsg.query = {\n    _id: objectid(msg.payload[0]._id)\n}\nmsg.payload = {\n    $set: {\n        active: true,\n        verifyToken: null\n    }\n}\n\nnode.send(msg)",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            },
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 680,
        "y": 1160,
        "wires": [
            [
                "9a785ddcdaf6df0d",
                "b4488590d344582f",
                "a2b1bc579a4c0ced"
            ]
        ]
    },
    {
        "id": "85976ad92833929a",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "2229ae9934019399",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 490,
        "y": 1160,
        "wires": [
            [
                "636a9bb0cdc28a94",
                "5fe531e8c9bf55b6"
            ]
        ]
    },
    {
        "id": "a2b1bc579a4c0ced",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "2229ae9934019399",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 870,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "970bf1d3e8383bba",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "queryToResetPassword",
        "url": "/queryToResetPassword",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 140,
        "y": 1600,
        "wires": [
            [
                "c823a259da378156",
                "2082fa66df328468"
            ]
        ]
    },
    {
        "id": "c823a259da378156",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "came",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 370,
        "y": 1560,
        "wires": []
    },
    {
        "id": "2082fa66df328468",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "query to db",
        "func": "msg.collection = \"admins\";\nmsg.token = msg.payload.token;\n\nmsg.payload = {\n    resetPassToken: msg.payload.token\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1600,
        "wires": [
            [
                "3b262e8c754b5f29",
                "bdbcc19d02a07b56"
            ]
        ]
    },
    {
        "id": "3b262e8c754b5f29",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "query to db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 1560,
        "wires": []
    },
    {
        "id": "bdbcc19d02a07b56",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 1600,
        "wires": [
            [
                "9c78085fd79972cb",
                "2eda0c91d0b75786"
            ]
        ]
    },
    {
        "id": "9c78085fd79972cb",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "redirect to page",
        "func": "const dateNow = new Date().getTime();\nconst ui = env.get(\"ui\");\n\nif (msg.payload[0].resetPassExpireToken > dateNow) {\n    msg.statusCode = 302\n    msg.headers = {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Credentials\": true,\n        \"location\": `${ui}/ResetPassword?token=${msg.token}`\n    }\n} else {\n    msg.payload = '<h1>Link expired</h1>';\n};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            },
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 700,
        "y": 1600,
        "wires": [
            [
                "2687dc71562c4d72"
            ]
        ]
    },
    {
        "id": "2eda0c91d0b75786",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "res db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 750,
        "y": 1560,
        "wires": []
    },
    {
        "id": "2687dc71562c4d72",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 890,
        "y": 1600,
        "wires": []
    },
    {
        "id": "d09ec9996f8a154c",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "sendEmailForResetPassword",
        "url": "/sendEmailForResetPassword",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 1420,
        "wires": [
            [
                "17248297231b9d88",
                "d8e9faa5f5797221"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "17248297231b9d88",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "query to db",
        "func": "const regexEmail = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nconst email = msg.payload.email.toLowerCase();\n\nif (!regexEmail.test(email)) {\n\n    msg.statusCode = 401;\n    msg.payload = {\n        data: \"Email is invalid\",\n        code: 401\n    }\n\n    return [null, msg];\n\n} else {\n    msg.collection = \"admins\";\n\n    msg.email = msg.payload.email;\n\n    msg.payload = {\n        email: email,\n        deleted: false\n    }\n\n    return [msg, null];\n} \n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 1420,
        "wires": [
            [
                "59a6366d8be0ed5e"
            ],
            [
                "5164464dd17d2bc2",
                "c08229195cce1b53"
            ]
        ]
    },
    {
        "id": "d8e9faa5f5797221",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "came",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 1460,
        "wires": []
    },
    {
        "id": "59a6366d8be0ed5e",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 570,
        "y": 1400,
        "wires": [
            [
                "a605c9337c4c16d3",
                "ed02bf967732b00f"
            ]
        ]
    },
    {
        "id": "a605c9337c4c16d3",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "send response",
        "func": "if (msg.payload.length === 0){\n    msg.statusCode = 401;\n\n    msg.payload = {\n        data: \"Forbidden! Incorrect email.\",\n        code: 401\n    }\n    return [null, msg]\n}\n\nmsg.payload = msg.payload[0];\n    \nreturn[msg, null]\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 1400,
        "wires": [
            [
                "97dc27c464c28717"
            ],
            [
                "4f97e46839f52868",
                "d52f6d33dbea5a1b"
            ]
        ]
    },
    {
        "id": "ed02bf967732b00f",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "Item after DB",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 1360,
        "wires": []
    },
    {
        "id": "97dc27c464c28717",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "query to db",
        "func": "// Add 30 minutes\nconst date = new Date();\nconst expireTime = date.setMinutes(date.getMinutes() + 30);\nconst token = crypto.randomBytes(64).toString('hex');\n\nmsg.oldpayload = msg.payload;\nmsg.token = token;\n\nmsg.cookies = {};\nmsg.cookies[\"user_email\"] = msg.email;\n\nmsg.collection = \"admins\";\nmsg.query = {\n    _id: objectid(msg.payload._id)\n}\nmsg.payload = {\n    $set: {\n        resetPassToken: token,\n        resetPassExpireToken: expireTime\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            },
            {
                "var": "crypto",
                "module": "crypto"
            }
        ],
        "x": 990,
        "y": 1380,
        "wires": [
            [
                "ddf35fbb3e263951",
                "0d5a011ed0707629"
            ]
        ]
    },
    {
        "id": "4f97e46839f52868",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 970,
        "y": 1420,
        "wires": []
    },
    {
        "id": "d52f6d33dbea5a1b",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "err email not found",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1010,
        "y": 1460,
        "wires": []
    },
    {
        "id": "ddf35fbb3e263951",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "msg to email",
        "func": "const back = env.get(\"back\");\nconst url = `${back}/queryToResetPassword?token=${msg.token}`;\n\nconst text = `\n<div style=\"padding: 10px 0; color: black;\">\n    <h1>We received a request to reset your password</h1>\n    <p>Use the link below to set up a new password for your account. If you did not request to reset your password, ignore this email and the link will expire on its own.</p>\n    <a href=\"${url}\" target=\"_blank\" style=\"margin: 10px 0; display: inline-block; padding: 16px 36px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; color: #ffffff; text-decoration: none; border-radius: 6px; background: #2E3D49;\">\n        SET NEW PASSWORD\n    </a>\n</div>\n`;\n\nmsg.to = msg.oldpayload.email;\nmsg.topic = 'Reset password';\nmsg.payload = text;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            }
        ],
        "x": 1170,
        "y": 1380,
        "wires": [
            [
                "2212b62e77474999",
                "d32809a33993ab1c"
            ]
        ]
    },
    {
        "id": "0d5a011ed0707629",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1150,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "2212b62e77474999",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1390,
        "y": 1420,
        "wires": []
    },
    {
        "id": "d32809a33993ab1c",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "end email",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1400,
        "y": 1340,
        "wires": []
    },
    {
        "id": "6730dfa61287b9f2",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "resetPassword",
        "url": "/resetPassword",
        "method": "put",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 1720,
        "wires": [
            [
                "a2eb69e6ad5db371"
            ]
        ],
        "icon": "font-awesome/fa-edit"
    },
    {
        "id": "a2eb69e6ad5db371",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "query to db",
        "func": "msg.newPassword = msg.payload.password;\n\nmsg.collection = \"admins\";\nmsg.payload = {\n    resetPassToken: msg.payload.token\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1720,
        "wires": [
            [
                "80ae78b49345f62c"
            ]
        ]
    },
    {
        "id": "80ae78b49345f62c",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 1720,
        "wires": [
            [
                "9fe3a92c904e973d",
                "654fcb097eed7e68"
            ]
        ]
    },
    {
        "id": "654fcb097eed7e68",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "query update pass",
        "func": "const dateNow = new Date().getTime();\nlet check = await bcrypt.compare(msg.newPassword, msg.payload[0].password);\nlet encryptedPassword = await bcrypt.hash(msg.newPassword, 10);\n\nmsg.oldpayload = msg.payload;\n\nif (msg.payload[0].resetPassExpireToken < dateNow) {\n\n    msg.payload = '<h1>link expired</h1>';\n\n} else {\n\n    if (!!check) {\n\n        msg.statusCode = 401;\n        msg.payload = {\n            data: 'The password must be different from the previous one',\n            code: 401\n        }\n\n        return [null, msg];\n\n    } else {\n        \n        msg.collection = \"admins\";\n        msg.query = {\n            _id: objectid(msg.payload[0]._id)\n        }\n        msg.payload = {\n            $set: {\n                password: encryptedPassword,\n                resetPassToken: \"\",\n                resetPassExpireToken: null\n            }\n        }\n        \n        return [msg, null];\n\n    }\n\n}\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            },
            {
                "var": "objectid",
                "module": "objectid"
            },
            {
                "var": "bcrypt",
                "module": "bcrypt"
            }
        ],
        "x": 710,
        "y": 1720,
        "wires": [
            [
                "71ea35313c1e5bbe",
                "d12866b139615b07",
                "45455fa4faeda4c6"
            ],
            [
                "7df30165a4d0a7eb"
            ]
        ]
    },
    {
        "id": "9fe3a92c904e973d",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "res db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 1680,
        "wires": []
    },
    {
        "id": "71ea35313c1e5bbe",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "query to db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 1640,
        "wires": []
    },
    {
        "id": "d12866b139615b07",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "msg to email",
        "func": "const ui = env.get(\"ui\");\nconst url = `${ui}/Login`;\nconst dateChanged = new Date().toString().slice(0, 24);\nconst text = `\n<div style=\"padding: 10px 0; color: black;\" display: block;>\n    <img src=\"https://www.iconpacks.net/icons/2/free-icon-check-mark-3280.png\"; alt=\"Success Icon\"; width=90px; height=90px;>\n    <h1 text-align=\"center\" >Password changed!</h1>\n    <p>\n        Your password has been changed successfully. \n        This is a confirmation that your password was changed at <b>${dateChanged}</b>\n        <br><br>\n        Use your new password to log in.\n    </p>\n    <a href=\"${url}\" target=\"_blank\" style=\"margin: 10px 0; display: inline-block; padding: 16px 36px; font-family: 'Source Sans Pro', Helvetica, Arial, sans-serif; font-size: 16px; color: #ffffff; text-decoration: none; border-radius: 6px; background: #72D393;\">\n        <b>LOGIN NOW</b>\n    </a>\n</div>\n`;\n\nmsg.to = msg.oldpayload[0].email;\nmsg.topic = 'Password changed';\nmsg.payload = text;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            }
        ],
        "x": 910,
        "y": 1720,
        "wires": [
            [
                "c4d39042ddfb3c4c",
                "ca0b1f9a3c42aad6"
            ]
        ]
    },
    {
        "id": "45455fa4faeda4c6",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 890,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "c4d39042ddfb3c4c",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "end email",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1120,
        "y": 1620,
        "wires": []
    },
    {
        "id": "ca0b1f9a3c42aad6",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1110,
        "y": 1720,
        "wires": []
    },
    {
        "id": "411b69c681820b0e",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "\"deleted\": true",
        "func": "msg.collection = \"admin_modules\";\n\nmsg.query = {\n    \"_id\": objectid(msg.payload._id)\n};\n\nmsg.payload = {\n    $set: {\n        deleted: true\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 360,
        "y": 2160,
        "wires": [
            [
                "cd5c1d01d15467f7",
                "81bdba71023d5429"
            ]
        ]
    },
    {
        "id": "500861a5b5623bc5",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "url": "/deleteModule",
        "method": "delete",
        "upload": false,
        "swaggerDoc": "",
        "x": 140,
        "y": 2180,
        "wires": [
            [
                "411b69c681820b0e",
                "3000e64189b3ff39",
                "6d5c9e567735125f"
            ]
        ]
    },
    {
        "id": "cd5c1d01d15467f7",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "finsih",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 2160,
        "wires": []
    },
    {
        "id": "81bdba71023d5429",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 2160,
        "wires": [
            [
                "cd5c1d01d15467f7"
            ]
        ]
    },
    {
        "id": "3000e64189b3ff39",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "delete using pull",
        "func": "msg.collection = \"admin_roles\"\n\nmsg.query = {\n    \"permissions.moduleId\": objectid(msg.payload._id)\n}\n\nmsg.payload =\n    { $pull: { \"permissions\": { \"moduleId\": objectid(msg.payload._id) } } }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 360,
        "y": 2200,
        "wires": [
            [
                "943cda0940fbfc65",
                "0d8e4b5e24ee7f2c"
            ]
        ]
    },
    {
        "id": "943cda0940fbfc65",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "finish",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 2200,
        "wires": []
    },
    {
        "id": "6d5c9e567735125f",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 650,
        "y": 2180,
        "wires": []
    },
    {
        "id": "0d8e4b5e24ee7f2c",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 2200,
        "wires": [
            [
                "943cda0940fbfc65"
            ]
        ]
    },
    {
        "id": "080f87898258c1e5",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "update roles",
        "func": "msg.collection = \"admin_roles\";\n\nmsg.query = {\n    \"permissions.moduleId\": objectid(msg.payload._id)\n    }\n\nmsg.payload = {\n    $set: {\n        \"permissions.$.module\": msg.payload.name\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 330,
        "y": 2060,
        "wires": [
            [
                "acef5e4ee852a34b",
                "920e683749d9b015"
            ]
        ]
    },
    {
        "id": "3835bedd5b59284c",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "updateParentModule",
        "url": "/updateParentModule",
        "method": "put",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 2080,
        "wires": [
            [
                "ae293692fead8475",
                "080f87898258c1e5",
                "7001dd6d6d4622d6"
            ]
        ],
        "icon": "font-awesome/fa-edit"
    },
    {
        "id": "acef5e4ee852a34b",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "finish",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 2060,
        "wires": []
    },
    {
        "id": "920e683749d9b015",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 2060,
        "wires": [
            []
        ]
    },
    {
        "id": "7001dd6d6d4622d6",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 650,
        "y": 2080,
        "wires": []
    },
    {
        "id": "ae293692fead8475",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "update parent",
        "func": "msg.collection = \"admin_modules\";\n\nmsg.query = {\n    _id: objectid(msg.payload._id)\n};\n\nmsg.payload = {\n    $set: {\n        icon: msg.payload.icon,\n        position: msg.payload.position,\n        name: msg.payload.name\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 340,
        "y": 2100,
        "wires": [
            [
                "732470b6749e6a6e",
                "84af4b543dc711ed"
            ]
        ]
    },
    {
        "id": "732470b6749e6a6e",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 2100,
        "wires": [
            []
        ]
    },
    {
        "id": "84af4b543dc711ed",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "a8bcf74ef7690d27",
        "name": "finish",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 2100,
        "wires": []
    },
    {
        "id": "7df30165a4d0a7eb",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "same pasword",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 1760,
        "wires": [
            [
                "36a8ed88d4ee5217"
            ]
        ]
    },
    {
        "id": "36a8ed88d4ee5217",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "5bf7ccb6c6709633",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1090,
        "y": 1760,
        "wires": []
    },
    {
        "id": "769c853fb108cedb",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 470,
        "y": 160,
        "wires": []
    },
    {
        "id": "53cd8649fa65084f",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "name": "err login",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 480,
        "y": 200,
        "wires": []
    },
    {
        "id": "82bf44e646ff81c1",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 450,
        "y": 500,
        "wires": []
    },
    {
        "id": "3d2a6611794a1aab",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "name": "err register",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 540,
        "wires": []
    },
    {
        "id": "5164464dd17d2bc2",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 590,
        "y": 1460,
        "wires": []
    },
    {
        "id": "c08229195cce1b53",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "name": "err register",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 1500,
        "wires": []
    },
    {
        "id": "6012ab98a19cbb6a",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "d78377c07a215120",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 850,
        "y": 480,
        "wires": [
            [
                "376f7da2f0d85f32"
            ]
        ]
    },
    {
        "id": "0cfa0691dcae508d",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "name": "menu grouping",
        "func": "msg.payload = msg.payload[0];\nmsg.permissions = msg.payload.permissions;\n\nfunction sortByPositionNumber(arr) {\n    return arr.sort((a, b) => +a.position - +b.position);\n}\n\nmsg.menu = sortByPositionNumber(msg.payload.menu).map(el => {\n\n    if (el.isParent) {\n        return {\n            \"label\": el.name,\n            \"value\": el.name,\n            \"icon\": el.icon ? el.icon : \"\",\n            \"children\": el.childModules.length \n                ? sortByPositionNumber(el.childModules)\n                  .map(item => ({\n                      \"label\": item.name,\n                      \"value\": item.name,\n                      \"icon\": item.icon ? item.icon : \"\"\n                  })) \n                : []\n        }\n    } else {\n        return {\n            \"label\": el.name,\n            \"value\": el.name,\n            \"children\": [],\n            \"icon\": el.icon ? el.icon : \"\",\n        }\n    }\n    \n});\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 820,
        "wires": [
            [
                "14cc1d46a9f6856f",
                "6f874c3f5f2d8c7e"
            ]
        ]
    },
    {
        "id": "14cc1d46a9f6856f",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "name": "check user permissions",
        "func": "const pageName = msg.check.page_id.replace('%20', ' ');\n\nconst parentPage = msg.menu.map((el) => el.label).includes(pageName);\nconst childPage = msg.menu.filter((e) => e.children.length > 0).flatMap((el) => el.children).map((elem) => elem.label).includes(pageName);\n\nif (parentPage || childPage) {\n\n    msg.statusCode = 200;\n    msg.payload = {\n        auth: \"Success\",\n        code: 200,\n        user: {\n            \"menu\": msg.menu,\n            \"permission\": msg.permissions,\n            \"translation\": msg.payload.translation[0],\n            \"info\": msg.user\n        }\n    }\n\n} else {\n\n    msg.payload = {\n        auth: \"Unautorizate\",\n        code: 401,\n        login_id: msg.menu[0].value + `?pageName=${msg.menu[0].value}`,\n        app_id: msg.check.app_id\n    }\n\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1670,
        "y": 820,
        "wires": [
            [
                "87b2820c2bf1143e",
                "a602a24988dcc60f"
            ]
        ]
    },
    {
        "id": "6f874c3f5f2d8c7e",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "name": "menu grouping",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1640,
        "y": 780,
        "wires": []
    },
    {
        "id": "47d7659c57682dc5",
        "type": "http in",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "createUser",
        "url": "/createUser",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 2980,
        "wires": [
            [
                "0148d4c43311575a",
                "edf7b992521b758b"
            ]
        ],
        "icon": "node-red/arrow-in.svg"
    },
    {
        "id": "0148d4c43311575a",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "query",
        "func": "msg.collection = \"admins\";\nmsg.oldpayload = msg.payload;\n\nmsg.payload = {\n    email: msg.payload.email,\n    deleted: false\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 2980,
        "wires": [
            [
                "bfda0ffbb10779bc"
            ]
        ]
    },
    {
        "id": "edf7b992521b758b",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 310,
        "y": 3020,
        "wires": []
    },
    {
        "id": "bfda0ffbb10779bc",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 430,
        "y": 2980,
        "wires": [
            [
                "0ad420bdb40c7f48",
                "44c147950358453b"
            ]
        ]
    },
    {
        "id": "0ad420bdb40c7f48",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "check",
        "func": "if (msg.payload.length > 0) {\n    msg.payload = {\n        data: \"This email address already exists\",\n        code: 400,\n    }\n    return [null, msg]\n}\nelse{\n    return [msg, null]\n}\n\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 2980,
        "wires": [
            [
                "37630c5145f4933f"
            ],
            [
                "0107039c4340e3b2",
                "e82f14a9819d4d19"
            ]
        ]
    },
    {
        "id": "44c147950358453b",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 3020,
        "wires": []
    },
    {
        "id": "0107039c4340e3b2",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "statusCode": "400",
        "headers": {},
        "x": 700,
        "y": 3020,
        "wires": []
    },
    {
        "id": "e82f14a9819d4d19",
        "type": "debug",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "err when created user",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 3060,
        "wires": []
    },
    {
        "id": "37630c5145f4933f",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "registration user",
        "func": "let randomColor = \"#\" + Math.floor(Math.random() * 16777215).toString(16);\nlet encryptedPassword = await bcrypt.hash(msg.oldpayload.password, 10);\n\nmsg.payload = {\n    \"_id\": objectid(),\n    \"deleted\": false,\n    \"avatarColor\": randomColor,\n    \"createdAt\": new Date(),\n    \"roles\": [objectid(msg.oldpayload.role)],\n    \"active\": true,\n    \"firstname\": msg.oldpayload.firstname,\n    \"lastname\": msg.oldpayload.lastname,\n    \"email\": msg.oldpayload.email,\n    \"password\": encryptedPassword,\n    verifyToken: null,\n    resetPassToken: \"\",\n    resetPassExpireToken: null\n}\n\nreturn msg;\n\n\n\n\n\n\n\n// let randomColor = \"#\" + Math.floor(Math.random() * 16777215).toString(16);\n// let encryptedPassword = await bcrypt.hash(msg.oldpayload.password, 10);\n// const verifyToken = await jwt.sign(\n//     { id: Math.round(Math.random()) },\n//     \"test\",\n//     {\n//         expiresIn: \"150m\",\n//     }\n// );\n\n// msg.cookies = {};\n// msg.cookies[\"verify_token\"] = verifyToken;\n// msg.cookies[\"email_register\"] = msg.oldpayload.email;\n\n// msg.payload = {\n//     \"_id\": objectid(),\n//     \"deleted\": false,\n//     \"avatarColor\": randomColor,\n//     \"createdAt\": new Date(),\n//     \"roles\": [objectid(\"634fe97d28c82b00103cd25d\")],\n//     \"active\": false,\n//     \"firstname\": msg.oldpayload.firstname,\n//     \"lastname\": msg.oldpayload.lastname,\n//     \"email\": msg.oldpayload.email,\n//     \"password\": encryptedPassword,\n//     verifyToken,\n//     resetPassToken: \"\",\n//     resetPassExpireToken: null\n// }\n\n// return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            },
            {
                "var": "bcrypt",
                "module": "bcrypt"
            },
            {
                "var": "jwt",
                "module": "jsonwebtoken"
            }
        ],
        "x": 720,
        "y": 2960,
        "wires": [
            [
                "4c2bfcca94198e63",
                "97840b426439aec0"
            ]
        ]
    },
    {
        "id": "4c2bfcca94198e63",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "links": [
            "1764f8568a80ddbd"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 870,
        "y": 2940,
        "wires": [
            []
        ]
    },
    {
        "id": "97840b426439aec0",
        "type": "http response",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 870,
        "y": 2980,
        "wires": []
    },
    {
        "id": "8bf4f333b8910d6e",
        "type": "inject",
        "z": "c8b39bad946d8ab6",
        "g": "3b2ecc05f3cef5f7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 2740,
        "wires": [
            [
                "ac9687b0e33d5319"
            ]
        ]
    },
    {
        "id": "4fd13f3d13cf4fe8",
        "type": "inject",
        "z": "c8b39bad946d8ab6",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 3160,
        "wires": [
            [
                "03a8198e5a91273a"
            ]
        ]
    },
    {
        "id": "03a8198e5a91273a",
        "type": "function",
        "z": "c8b39bad946d8ab6",
        "name": "function 328",
        "func": "msg.collection = 'admins';\nmsg.query ={\n    _id: objectid('656376e25167281100000001')\n};\n\nmsg.payload={\n    $set:{\n        active: true,\n        \"roles\": [objectid(\"656372c384809000110d5049\")],\n\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 250,
        "y": 3180,
        "wires": [
            [
                "f4096537b05eef13"
            ]
        ]
    },
    {
        "id": "f4096537b05eef13",
        "type": "link call",
        "z": "c8b39bad946d8ab6",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 400,
        "y": 3180,
        "wires": [
            []
        ]
    },
    {
        "id": "68973df1a1acd194",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "url": "/order",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 180,
        "wires": [
            [
                "4115f2bd810f6db1",
                "5e642e437335d2c9"
            ]
        ]
    },
    {
        "id": "4115f2bd810f6db1",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "save order",
        "func": "msg.fromSite = msg.payload\nconst convertToKyivTime = global.get('helpers').convertToKyivTime\nconst replaceSymbols = global.get('helpers').replaceSymbols\n\nmsg.collection= 'orders'\n\n// msg.payload.items = msg.payload.items.map(e => ({ ...e, title: replaceSymbols(e.title) }))\n\nmsg.payload = {\n    _id:objectid(),\n    // ...msg.payload,\n    createdAt: convertToKyivTime(),\n    status: 'New',\n    deleted: false\n}\n\nmsg.order = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 370,
        "y": 180,
        "wires": [
            [
                "fcb8703fc675a19c",
                "4b581d0466ce81cb"
            ]
        ]
    },
    {
        "id": "d9688197e8f32124",
        "type": "http response",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "statusCode": "",
        "headers": {
            "location": "msg.payload.response.checkout_url"
        },
        "x": 1110,
        "y": 220,
        "wires": []
    },
    {
        "id": "0432352c4179b24e",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "url": "/getOrders",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 140,
        "y": 80,
        "wires": [
            [
                "63e3882424b7b31a",
                "651937a9b54fd794"
            ]
        ]
    },
    {
        "id": "63e3882424b7b31a",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "get orders",
        "func": "msg.collection = 'orders'\n\nmsg.payload = {\n   deleted: false,\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 80,
        "wires": [
            [
                "6f82f37ba3ca2c5d"
            ]
        ]
    },
    {
        "id": "c76463c7de832d71",
        "type": "http response",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 690,
        "y": 80,
        "wires": []
    },
    {
        "id": "4b581d0466ce81cb",
        "type": "link call",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "links": [
            "1764f8568a80ddbd"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 530,
        "y": 180,
        "wires": [
            [
                "36cf9053dadc29d6",
                "f1eea56f1135b6a5"
            ]
        ]
    },
    {
        "id": "36cf9053dadc29d6",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "res",
        "func": "msg.payload={\n    success: true,\n    payload: 'Order was sent!'\n}\nmsg.statusCode = 200\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "6f82f37ba3ca2c5d",
        "type": "link call",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 530,
        "y": 80,
        "wires": [
            [
                "c76463c7de832d71",
                "651937a9b54fd794"
            ]
        ]
    },
    {
        "id": "537fe82dbd103dab",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "url": "/updateOrder",
        "method": "put",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 280,
        "wires": [
            [
                "509a5140e4bea532"
            ]
        ]
    },
    {
        "id": "509a5140e4bea532",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "update order",
        "func": "msg.collection= 'orders'\n\nmsg.payload = {\n    status: 'New',\n    deleted: false\n}\nmsg.query = {\n    _id: objectid('6479a35d8e537f001267b0c6')\n}\nmsg.payload = {\n    $set:{\n        ...msg.payload\n    }\n}\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 370,
        "y": 280,
        "wires": [
            [
                "87ee588dc76b318f",
                "1c5beeeeab7b90c1"
            ]
        ]
    },
    {
        "id": "bfa0d85aa7b76391",
        "type": "http response",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 830,
        "y": 280,
        "wires": []
    },
    {
        "id": "87ee588dc76b318f",
        "type": "link call",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 540,
        "y": 280,
        "wires": [
            [
                "9351e32f4cd0c3e6"
            ]
        ]
    },
    {
        "id": "9351e32f4cd0c3e6",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "res",
        "func": "msg.payload={\n    success: true,\n    payload: 'Замовлення оновлено!'\n}\nmsg.statusCode = 200\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 280,
        "wires": [
            [
                "bfa0d85aa7b76391"
            ]
        ]
    },
    {
        "id": "651937a9b54fd794",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "all orders",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 540,
        "y": 120,
        "wires": []
    },
    {
        "id": "5e642e437335d2c9",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "from site",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 360,
        "y": 220,
        "wires": []
    },
    {
        "id": "fcb8703fc675a19c",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "save order",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 220,
        "wires": []
    },
    {
        "id": "1c5beeeeab7b90c1",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "update order",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 320,
        "wires": []
    },
    {
        "id": "4c34036ed489adaf",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "url": "/deleteOrder",
        "method": "delete",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 380,
        "wires": [
            [
                "52f4ade65d9359c4"
            ]
        ]
    },
    {
        "id": "52f4ade65d9359c4",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "delete order",
        "func": "msg.collection= 'orders'\n\nmsg.query = {\n    _id: objectid(msg.payload._id)\n}\nmsg.payload = {\n    $set:{\n        deleted: true\n    }\n}\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 370,
        "y": 380,
        "wires": [
            [
                "a51d9a0f0a1c6482",
                "749f34a64a5afaf5"
            ]
        ]
    },
    {
        "id": "00cef083d7d2a71f",
        "type": "http response",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 830,
        "y": 380,
        "wires": []
    },
    {
        "id": "a51d9a0f0a1c6482",
        "type": "link call",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 540,
        "y": 380,
        "wires": [
            [
                "4549778a61280110"
            ]
        ]
    },
    {
        "id": "4549778a61280110",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "res",
        "func": "msg.payload={\n    success: true,\n    payload: 'Замовлення видалено!'\n}\nmsg.statusCode = 200\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 380,
        "wires": [
            [
                "00cef083d7d2a71f"
            ]
        ]
    },
    {
        "id": "749f34a64a5afaf5",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "delete order",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 420,
        "wires": []
    },
    {
        "id": "5cb7cc2a0f0f63b1",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "url": "/changeOrderStatus",
        "method": "put",
        "upload": false,
        "swaggerDoc": "",
        "x": 170,
        "y": 480,
        "wires": [
            [
                "0a99a535c9830530"
            ]
        ]
    },
    {
        "id": "0a99a535c9830530",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "change status",
        "func": "msg.collection= 'orders'\n\nmsg.query = {\n    _id: objectid(msg.payload._id)\n}\nmsg.payload = {\n    $set:{\n        status: msg.payload.status\n    }\n}\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 380,
        "y": 480,
        "wires": [
            [
                "da9ecd86e6ad0798",
                "656881d4449f8fb3"
            ]
        ]
    },
    {
        "id": "a4eeae1641a1331b",
        "type": "http response",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 830,
        "y": 480,
        "wires": []
    },
    {
        "id": "da9ecd86e6ad0798",
        "type": "link call",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 540,
        "y": 480,
        "wires": [
            [
                "989f55fc64c61ea2"
            ]
        ]
    },
    {
        "id": "989f55fc64c61ea2",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "res",
        "func": "msg.payload={\n    success: true,\n    payload: 'Статус змінено!'\n}\nmsg.statusCode = 200\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 480,
        "wires": [
            [
                "a4eeae1641a1331b"
            ]
        ]
    },
    {
        "id": "656881d4449f8fb3",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "change status",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 560,
        "y": 520,
        "wires": []
    },
    {
        "id": "e726b3b068fdadb9",
        "type": "inject",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 120,
        "wires": [
            [
                "63e3882424b7b31a"
            ]
        ]
    },
    {
        "id": "fa247fa4d83f23c7",
        "type": "inject",
        "z": "7b13882ad5aa8e09",
        "g": "894a214f93518dc0",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 640,
        "wires": [
            [
                "7e6d50522655bc9b"
            ]
        ]
    },
    {
        "id": "64fc754cdd329fe6",
        "type": "http request",
        "z": "7b13882ad5aa8e09",
        "g": "894a214f93518dc0",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://pay.fondy.eu/api/checkout/url/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 490,
        "y": 640,
        "wires": [
            [
                "3c449cfccb6433ef"
            ]
        ]
    },
    {
        "id": "7e6d50522655bc9b",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "g": "894a214f93518dc0",
        "name": "function 330",
        "func": "const password = 'Spg5VxinwtnjlEY85tj0PkDGZEHW9aem';\n\nconst order = {\n    order_id: 'firstorder62',\n    merchant_id: '1535496',\n    order_desc: 'Cheese',\n    amount: 52500,\n    currency: 'UAH',\n};\n\nconst orderKeys = Object.keys(order).sort((a, b) => {\n    if (a < b) return -1;\n    if (a > b) return 1;\n    return 0;\n});\n// node.warn(orderKeys)\n\nconst signatureRow = orderKeys.map((v) => order[v]).join('|');\n// node.warn(signatureRow )\nlet signature = crypto.createHash('sha1');\nsignature.update(`${password}|${signatureRow}`);\n\n let sign = signature.digest('hex')\nconst options = {\n    headers: {\n        'Content-Type': 'application/json',\n    },\n    body: {\n        request: {\n            ...order,\n            signature: sign\n        }\n    },\n     json: true\n};\nnode.warn(sign)\n\nmsg.headers = options.headers;\nmsg.payload = options.body;\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "crypto",
                "module": "crypto"
            }
        ],
        "x": 310,
        "y": 640,
        "wires": [
            [
                "64fc754cdd329fe6"
            ]
        ]
    },
    {
        "id": "3c449cfccb6433ef",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "g": "894a214f93518dc0",
        "name": "debug 250",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 640,
        "wires": []
    },
    {
        "id": "7a3c7cbebd06ec66",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "g": "894a214f93518dc0",
        "name": "",
        "url": "/a",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 680,
        "wires": [
            [
                "7e6d50522655bc9b"
            ]
        ]
    },
    {
        "id": "008a51a473b2faea",
        "type": "http request",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://pay.fondy.eu/api/checkout/url/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 950,
        "y": 220,
        "wires": [
            [
                "d9688197e8f32124",
                "6fa8b46cfe746528"
            ]
        ]
    },
    {
        "id": "f1eea56f1135b6a5",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "name": "function 331",
        "func": "const password = global.get(\"processENV\").password\nlet products = msg.fromSite.items.map((e, index) => {\n    return {\n        ...e,\n        id: index\n    };\n});\n\nlet reservation_data = JSON.stringify({\n    \"products\": products\n});\nlet totalCost = products.reduce((accumulator, currentItem) => {\n    return accumulator + (currentItem.total_amount * (currentItem.price*100));\n}, 0);\n\n\nlet objJsonB64 = Buffer.from(reservation_data).toString(\"base64\");\nconst order = {\n    order_id: objectid(),\n    merchant_id: global.get(\"processENV\").merchant_id,\n    order_desc: 'Замовлення сиру',\n    amount: Number(totalCost),\n    currency: 'UAH',\n    reservation_data: objJsonB64\n    };\n\n\nconst orderKeys = Object.keys(order).sort((a, b) => {\n    if (a < b) return -1;\n    if (a > b) return 1;\n    return 0;\n});\n// node.warn(orderKeys)\n\nconst signatureRow = orderKeys.map((v) => order[v]).join('|');\n// node.warn(signatureRow )\nlet signature = crypto.createHash('sha1');\nsignature.update(`${password}|${signatureRow}`);\n\n let sign = signature.digest('hex')\nconst options = {\n    headers: {\n        'Content-Type': 'application/json',\n    },\n    body: {\n        request: {\n            ...order,\n            signature: sign\n            // reservation_data: objJsonB64\n        }\n    },\n     json: true\n};\nnode.warn(sign)\n\nmsg.headers = options.headers;\nmsg.payload = options.body;\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "crypto",
                "module": "crypto"
            },
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 770,
        "y": 220,
        "wires": [
            [
                "008a51a473b2faea"
            ]
        ]
    },
    {
        "id": "6fa8b46cfe746528",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "all orders",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 280,
        "wires": []
    },
    {
        "id": "e48a0a321c5d12e6",
        "type": "inject",
        "z": "7b13882ad5aa8e09",
        "g": "94d6a2efc1fffc7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"name\":\"тест\",\"phone\":\"1232123123\",\"address\":\"\",\"floor\":\"\",\"paymentMethod\":\"На карту\",\"contactMethod\":\"\",\"newPostNumber\":4,\"city\":\"тест\",\"notes\":\"тест\",\"items\":[{\"id\":0,\"name\":\"Набір Халумі\",\"price\":770,\"total_amount\":1,\"quantity\":1.85}],\"email\":\"тест@тест.тест\"}",
        "payloadType": "json",
        "x": 150,
        "y": 220,
        "wires": [
            [
                "4115f2bd810f6db1"
            ]
        ]
    },
    {
        "id": "3d23f4ad2891a685",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "url": "/callback",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 780,
        "wires": [
            [
                "7a94287c8b73d852"
            ]
        ]
    },
    {
        "id": "7a94287c8b73d852",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "name": "debug 251",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 780,
        "wires": []
    },
    {
        "id": "76a74bb9d4180f42",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "url": "/chargeback_callball",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 190,
        "y": 840,
        "wires": [
            [
                "fb0d65e467d57409"
            ]
        ]
    },
    {
        "id": "fb0d65e467d57409",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "name": "debug 252",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 840,
        "wires": []
    },
    {
        "id": "9e944f93e3e23aee",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "url": "/callback",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 940,
        "wires": [
            [
                "d26ed7298fd3b7e4"
            ]
        ]
    },
    {
        "id": "d26ed7298fd3b7e4",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "name": "debug 253",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 940,
        "wires": []
    },
    {
        "id": "32458d4f713ec439",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "url": "/chargeback_callball",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 190,
        "y": 1000,
        "wires": [
            [
                "94f1f8ef1383208c"
            ]
        ]
    },
    {
        "id": "94f1f8ef1383208c",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "name": "debug 254",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 1000,
        "wires": []
    },
    {
        "id": "73965a20b0544133",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "name": "save order",
        "func": "msg.fromSite = msg.payload\nconst convertToKyivTime = global.get('helpers').convertToKyivTime\nconst replaceSymbols = global.get('helpers').replaceSymbols\n\nmsg.collection= 'orders'\n\n// msg.payload.items = msg.payload.items.map(e => ({ ...e, title: replaceSymbols(e.title) }))\nmsg.orderId = objectid()\nmsg.payload = {\n    _id: msg.orderId,\n    // ...msg.payload,\n    createdAt: convertToKyivTime(),\n    status: 'New',\n    order_status: 'recive from site',\n    deleted: false\n}\n\nmsg.order = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 370,
        "y": 1400,
        "wires": [
            [
                "e65493fdf5cca9e6",
                "4336d8cd0c11aa0e"
            ]
        ]
    },
    {
        "id": "777c0ae8677530a8",
        "type": "inject",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"name\":\"тест\",\"phone\":\"1232123123\",\"address\":\"\",\"floor\":\"\",\"paymentMethod\":\"На карту\",\"contactMethod\":\"\",\"newPostNumber\":4,\"city\":\"тест\",\"notes\":\"тест\",\"items\":[{\"id\":0,\"name\":\"Набір Халумі\",\"price\":770,\"total_amount\":1,\"quantity\":1.85}],\"email\":\"тест@тест.тест\"}",
        "payloadType": "json",
        "x": 150,
        "y": 1440,
        "wires": [
            [
                "73965a20b0544133"
            ]
        ]
    },
    {
        "id": "e65493fdf5cca9e6",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "name": "save order",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 1440,
        "wires": []
    },
    {
        "id": "4336d8cd0c11aa0e",
        "type": "link call",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "links": [
            "1764f8568a80ddbd"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 530,
        "y": 1400,
        "wires": [
            [
                "51914a9afb54534c",
                "67d1aa8a0cdfc6c5"
            ]
        ]
    },
    {
        "id": "51914a9afb54534c",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "name": "res",
        "func": "msg.payload={\n    success: true,\n    payload: 'Order was sent!'\n}\nmsg.statusCode = 200\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "67d1aa8a0cdfc6c5",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "name": "function 332",
        "func": "const password = 'test'\nlet products = msg.fromSite.items.map((e, index) => {\n    return {\n        ...e,\n        id: index\n    };\n});\n\nlet reservation_data = JSON.stringify({\n    \"products\": products\n});\nlet totalCost = products.reduce((accumulator, currentItem) => {\n    return accumulator + (currentItem.total_amount * (currentItem.price*100));\n}, 0);\n// let reservation_data = JSON.stringify({\n//     \"products\": [\n//         {\n//             \"id\": 1,\n//             \"name\": \"сир\",\n//             \"price\":0.50,\n//             \"total_amount\": 0.50,\n//             \"quantity\": 0.1\n//         },\n//         {\n//             \"id\": 2,\n//             \"name\": \"сир\",\n//             \"price\": 0.50,\n//             \"total_amount\": 0.50,\n//             \"quantity\": 0.1\n//         }\n//     ]\n// });\n\n\nlet objJsonB64 = Buffer.from(reservation_data).toString(\"base64\");\nconst order = {\n    order_id: objectid(),\n    merchant_id: '1396424',\n    order_desc: 'Замовлення сиру',\n    amount: Number(totalCost),\n    currency: 'UAH',\n    reservation_data: objJsonB64,\n    server_callback_url: 'https://cheesestorenr-658c190e387fb71100000218.ubos.tech/testcallback'\n    };\n\n\nconst orderKeys = Object.keys(order).sort((a, b) => {\n    if (a < b) return -1;\n    if (a > b) return 1;\n    return 0;\n});\n// node.warn(orderKeys)\n\nconst signatureRow = orderKeys.map((v) => order[v]).join('|');\n// node.warn(signatureRow )\nlet signature = crypto.createHash('sha1');\nsignature.update(`${password}|${signatureRow}`);\n\n let sign = signature.digest('hex')\nconst options = {\n    headers: {\n        'Content-Type': 'application/json',\n    },\n    body: {\n        request: {\n            ...order,\n            signature: sign\n            // reservation_data: objJsonB64\n        }\n    },\n     json: true\n};\nnode.warn(sign)\n\nmsg.headers = options.headers;\nmsg.payload = options.body;\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "crypto",
                "module": "crypto"
            },
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 770,
        "y": 1440,
        "wires": [
            [
                "c53ccffce2ae9cfd"
            ]
        ]
    },
    {
        "id": "c53ccffce2ae9cfd",
        "type": "http request",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://pay.fondy.eu/api/checkout/url/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 950,
        "y": 1440,
        "wires": [
            [
                "e02f6d4da24fdbd4",
                "4a323d71a087e48c",
                "c8f775ef18de6f6f"
            ]
        ]
    },
    {
        "id": "e02f6d4da24fdbd4",
        "type": "http response",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "statusCode": "",
        "headers": {
            "location": "msg.payload.response.checkout_url"
        },
        "x": 1110,
        "y": 1440,
        "wires": []
    },
    {
        "id": "4a323d71a087e48c",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "name": "all orders",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 1500,
        "wires": []
    },
    {
        "id": "f87e793e5627ca7d",
        "type": "http in",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "url": "/testcallback",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 190,
        "y": 1220,
        "wires": [
            [
                "8703f4bcb1ed4a31",
                "7181197c36dbb81a"
            ]
        ]
    },
    {
        "id": "8703f4bcb1ed4a31",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "name": "debug 255",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 1280,
        "wires": []
    },
    {
        "id": "7181197c36dbb81a",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "name": "function 333",
        "func": "msg.fromFondy = msg.payload\nmsg.payload={\n    order_status: msg.payload.approved,\n    payment_id: Number(msg.payload.payment_id)\n}\nmsg.collection = 'orders'\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1220,
        "wires": [
            [
                "2f3b12e8c06141df"
            ]
        ]
    },
    {
        "id": "c8f775ef18de6f6f",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "name": "update order",
        "func": "if (msg.statusCode === 200) {\n    msg.collection = 'orders'\n\n    msg.query = {\n        _id: msg.orderId\n    }\n    \n    msg.payload = {\n        $set: {\n            payment_id:Number(msg.payload.response.payment_id)\n        }\n    }\n\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 930,
        "y": 1340,
        "wires": [
            [
                "bc74f407da6de118",
                "b179eb8265e8d0d0"
            ]
        ]
    },
    {
        "id": "bc74f407da6de118",
        "type": "link call",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1100,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "b179eb8265e8d0d0",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "name": "update order",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1110,
        "y": 1380,
        "wires": []
    },
    {
        "id": "2f3b12e8c06141df",
        "type": "link call",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 550,
        "y": 1220,
        "wires": [
            [
                "e0fc24a35fd2d1d5",
                "cdf16823efcee71f"
            ]
        ]
    },
    {
        "id": "e0fc24a35fd2d1d5",
        "type": "debug",
        "z": "7b13882ad5aa8e09",
        "name": "save order",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 1180,
        "wires": []
    },
    {
        "id": "cdf16823efcee71f",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "name": "save order",
        "func": "if (msg.payload.length === 0) {\n    msg.query={\n        payment_id: Number(msg.fromFondy.payment_id)\n    }\n    msg.payload={\n        $set:{\n            order_status: msg.fromFondy.order_status\n        }\n    }\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 710,
        "y": 1220,
        "wires": [
            [
                "f9b651d25666fdfb"
            ]
        ]
    },
    {
        "id": "f9b651d25666fdfb",
        "type": "link call",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "links": [
            "286431cd31c9fc7a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 870,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "82daa36e746d6aaa",
        "type": "inject",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"name\":\"тест\",\"phone\":\"1232123123\",\"address\":\"\",\"floor\":\"\",\"paymentMethod\":\"На карту\",\"contactMethod\":\"\",\"newPostNumber\":4,\"city\":\"тест\",\"notes\":\"тест\",\"items\":[{\"id\":0,\"name\":\"Набір Халумі\",\"price\":770,\"total_amount\":1,\"quantity\":1.85}],\"email\":\"тест@тест.тест\"}",
        "payloadType": "json",
        "x": 150,
        "y": 1320,
        "wires": [
            [
                "47e0eedbc3f55765"
            ]
        ]
    },
    {
        "id": "47e0eedbc3f55765",
        "type": "function",
        "z": "7b13882ad5aa8e09",
        "name": "function 334",
        "func": "// msg.fromFondy = msg.payload\nmsg.payload={\n    payment_id: 714098875\n}\nmsg.collection = 'orders'\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 1320,
        "wires": [
            [
                "9c5338884ec29669"
            ]
        ]
    },
    {
        "id": "9c5338884ec29669",
        "type": "link call",
        "z": "7b13882ad5aa8e09",
        "name": "",
        "links": [
            "346e518816416d1d"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 470,
        "y": 1320,
        "wires": [
            [
                "8703f4bcb1ed4a31"
            ]
        ]
    },
    {
        "id": "12518de2dc64b7f7",
        "type": "inject",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1060,
        "y": 120,
        "wires": [
            [
                "3db5291c.e27a0e"
            ]
        ]
    },
    {
        "id": "d18b6a3a.371bb8",
        "type": "http request",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://www.liqpay.ua/api/request",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1410,
        "y": 120,
        "wires": [
            [
                "ea8a6b4f.0f78d8"
            ]
        ]
    },
    {
        "id": "ea8a6b4f.0f78d8",
        "type": "debug",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1570,
        "y": 120,
        "wires": []
    },
    {
        "id": "3db5291c.e27a0e",
        "type": "function",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "Create Request",
        "func": "const public_key = 'sandbox_i84915551152';\nconst private_key = 'sandbox_lixXdjBXphEfcWIsSx07Ed5getyKGA15iXzncE1I';\nconst payload = {\n    action: 'invoice_send',\n    version: '3',\n    public_key: 'sandbox_i84915551152',\n    email: 'nculupin@gmail.com',\n    amount: 2,\n    currency: 'UAH',\n    order_id: 'order_id_14',\n    server_url:\"https://backend-645910bea77995110000001a.ubos.tech/getstatus\",\n    goods: [{\n        amount: 100,\n        count: 2,\n        unit: 'шт.',\n        name: 'UAH',\n    }]\n};\nnode.warn(payload)\nconst data = Buffer.from(JSON.stringify(payload)).toString('base64');\nconst signature = crypto.createHash('sha1').update('sandbox_lixXdjBXphEfcWIsSx07Ed5getyKGA15iXzncE1I' + data + 'sandbox_lixXdjBXphEfcWIsSx07Ed5getyKGA15iXzncE1I').digest('base64');\n\nmsg.headers = {\n    'Content-Type': 'application/x-www-form-urlencoded',\n    'Accept': 'application/json',\n};\nmsg.payload = `data=${encodeURIComponent(data)}&signature=${encodeURIComponent(signature)}`;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "crypto",
                "module": "crypto"
            }
        ],
        "x": 1220,
        "y": 120,
        "wires": [
            [
                "d18b6a3a.371bb8",
                "4d5d387e4c191d24"
            ]
        ]
    },
    {
        "id": "1508f6dbbd91689a",
        "type": "function",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "function 4",
        "func": "\n\n// function getSignature(merchant_id, password, params) {\n//     params[' \"merchant_id\": \"1397120\"] = merchant_id;\n//     const filteredParams = Object.keys(params).reduce((acc, key) => {\n//         if (params[key].toString().length > 0) {\n//             acc[key] = params[key];\n//         }\n//         return acc;\n//     }, {});\n//     const sortedParams = Object.values(filteredParams).sort();\n//     sortedParams.unshift(password);\n//     const paramsString = sortedParams.join('|');\n//     const sha1 = crypto.createHash('sha1').update(paramsString).digest('hex');\n//     return sha1;\n// }\n\n// msg.headers = {\n//     \"Content-Type\": \"application/json\"\n// };\n\n// let payload = {\n//     \"request\": {\n//         \"server_callback_url\": \"http://myshop/callback/\",\n//         \"order_id\": \"TestOrder_SDK1\",\n//         \"currency\": \"USD\",\n//         \"merchant_id\": 1396424,\n//         \"order_desc\": \"Test payment\",\n//         \"amount\": 1000,\n//         \"required_rectoken\": \"Y\",\n//         \"signature\": \"6353c28522f553745113b8e5a8976ab7b4fcd9ca\"\n//     }\n// };\n\n// let sign = getSignature(\"1397120\", \"12345vika\", payload.request);\n// payload.request.signature = sign;\n\n// msg.payload = payload\n// return msg;\n\n\n// const CloudIpsp = cloudipspNodeJsSdk;\n\n// const fondy = new CloudIpsp(\n//     {\n//         merchantId: 1397120,\n//         secretKey: 'test'\n//     }\n// )\n// const requestData = {\n//     order_id: 'ID1234',\n//     order_desc: 'test order',\n//     currency: 'GBP',\n//     amount: '1000'\n// }\n// fondy.Checkout(requestData).then(data => {\n//    node.warn(data)\n// }).catch((error) => {\n//     node.warn(error)\n// })\n\n\n\n\n// const sha1 = crypto.createHash('sha1').update('1397120|Not for tests. Test credentials: https://docs.fondy.eu/docs/page/2/ |test | 125 | USD | 1396424 | test order | test123456').digest('hex')\n// node.warn(sha1)\nlet payload = {\n        \"order_id\": \"test8037875286\",\n        \"order_desc\": \"Test payment\",\n        \"currency\": \"RUB\",\n        \"amount\": \"100\",\n        \"merchant_id\": \"1397120\"\n}\nmsg.headers={\n    'Content-Type':'application/json'\n}\n//const a = getSignature(`1397120`, `Not for tests. Test credentials: https://docs.fondy.eu/docs/page/2/`, msg.payload.request )\n\n\n\n\n\nconst secretKey = \"Not for tests. Test credentials: https://docs.fondy.eu/docs/page/2/\";\n\nconst requestDataString = JSON.stringify(payload);\nconst dataWithSecret = secretKey + requestDataString + secretKey;\nconst signature = crypto.createHash('sha1').update(dataWithSecret).digest('hex');\n\nnode.warn(signature);\n\n\n\nmsg.payload = JSON.stringify([{\n\n    \"request\": {\n        \"order_id\": \"test123456\",\n        \"order_desc\": \"test order\",\n        \"currency\": \"USD\",\n        \"amount\": \"125\",\n        \"signature\": signature,\n        \"merchant_id\": \"1397120\"\n    }\n\n}])\n\n//21c94e70cf1a0b8b509c6fa24b395bf5982b6d36\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "crypto",
                "module": "crypto"
            },
            {
                "var": "cloudipspNodeJsSdk",
                "module": "cloudipsp-node-js-sdk"
            }
        ],
        "x": 1220,
        "y": 200,
        "wires": [
            [
                "2a2777c907eb9abe",
                "4c2721d4acd880ad"
            ]
        ]
    },
    {
        "id": "4c2721d4acd880ad",
        "type": "http request",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://pay.fondy.eu/api/checkout/url/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1390,
        "y": 200,
        "wires": [
            [
                "2a2777c907eb9abe"
            ]
        ]
    },
    {
        "id": "2a2777c907eb9abe",
        "type": "debug",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "debug 6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1580,
        "y": 180,
        "wires": []
    },
    {
        "id": "1dc3e9bbeb44bca8",
        "type": "inject",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1060,
        "y": 320,
        "wires": [
            [
                "be547d277a20b4b9"
            ]
        ]
    },
    {
        "id": "f4fb8add7133933b",
        "type": "inject",
        "z": "b87c9b19d6d9d69c",
        "g": "30fb5c4e516bd7f7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1060,
        "y": 500,
        "wires": [
            [
                "8ddd4d28cfc7c7a3"
            ]
        ]
    },
    {
        "id": "0232b9cb7db76abb",
        "type": "http request",
        "z": "b87c9b19d6d9d69c",
        "g": "30fb5c4e516bd7f7",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://pay.fondy.eu/api/checkout/url/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1410,
        "y": 500,
        "wires": [
            [
                "bf45cc0ca8374e5a"
            ]
        ]
    },
    {
        "id": "8ddd4d28cfc7c7a3",
        "type": "function",
        "z": "b87c9b19d6d9d69c",
        "g": "30fb5c4e516bd7f7",
        "name": "function 19",
        "func": "const password = 'Spg5VxinwtnjlEY85tj0PkDGZEHW9aem';\n\nconst order = {\n    order_id: 'firstorder62',\n    merchant_id: '1535496',\n    order_desc: 'Cheese',\n    amount: 52500,\n    currency: 'UAH',\n};\n\nconst orderKeys = Object.keys(order).sort((a, b) => {\n    if (a < b) return -1;\n    if (a > b) return 1;\n    return 0;\n});\n// node.warn(orderKeys)\n\nconst signatureRow = orderKeys.map((v) => order[v]).join('|');\n// node.warn(signatureRow )\nlet signature = crypto.createHash('sha1');\nsignature.update(`${password}|${signatureRow}`);\n\n let sign = signature.digest('hex')\nconst options = {\n    headers: {\n        'Content-Type': 'application/json',\n    },\n    body: {\n        request: {\n            ...order,\n            signature: sign\n        }\n    },\n     json: true\n};\nnode.warn(sign)\n\nmsg.headers = options.headers;\nmsg.payload = options.body;\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "crypto",
                "module": "crypto"
            }
        ],
        "x": 1230,
        "y": 500,
        "wires": [
            [
                "0232b9cb7db76abb"
            ]
        ]
    },
    {
        "id": "bf45cc0ca8374e5a",
        "type": "debug",
        "z": "b87c9b19d6d9d69c",
        "g": "30fb5c4e516bd7f7",
        "name": "debug 74",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1620,
        "y": 500,
        "wires": []
    },
    {
        "id": "0a650acf33b3e54f",
        "type": "http in",
        "z": "b87c9b19d6d9d69c",
        "g": "30fb5c4e516bd7f7",
        "name": "",
        "url": "/a",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 1050,
        "y": 540,
        "wires": [
            [
                "8ddd4d28cfc7c7a3"
            ]
        ]
    },
    {
        "id": "10f6db36557cf78a",
        "type": "http in",
        "z": "b87c9b19d6d9d69c",
        "name": "",
        "url": "/ord",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 300,
        "wires": [
            [
                "f77b112bcc6f838e"
            ]
        ]
    },
    {
        "id": "0debe6848905e6d0",
        "type": "function",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "createPayment()",
        "func": "// const { totalPrice } = msg.req.body;\n\nconst public_key = 'sandbox_i84915551152';\nconst private_key = 'sandbox_lixXdjBXphEfcWIsSx07Ed5getyKGA15iXzncE1I';\n\n// const liqpay = new LiqPay(public_key, private_key);\nconst order_id = Date.now();\n\nconst payment_data = {\n    'public_key': public_key,\n    'version': 3,\n    'action': 'pay',\n    'amount': 245,\n    'currency': 'UAH',\n    'description': 'Payment for services',\n    // 'order_id': \"12345\",\n     'order_id': order_id.toString(),\n    'server_url': \"https://backend-645910bea77995110000001a.ubos.tech/getstatus\"\n};\n\n\nconst encodedString = Buffer.from(JSON.stringify(payment_data)).toString('base64');\nconst signString = 'sandbox_lixXdjBXphEfcWIsSx07Ed5getyKGA15iXzncE1I' + encodedString + 'sandbox_lixXdjBXphEfcWIsSx07Ed5getyKGA15iXzncE1I'\nnode.warn(signString)\n\n\nconst signature = crypto.createHash('sha1').update(signString).digest('base64');\n\nnode.warn(signature)\n\n\n\nconst payload = {\n    data: encodedString,\n    signature\n};\n\nmsg.payload = payload;\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "crypto",
                "module": "crypto"
            }
        ],
        "x": 1120,
        "y": 680,
        "wires": [
            [
                "c301a1c1c4b6819d",
                "fe14d839e73913f4"
            ]
        ]
    },
    {
        "id": "b3febc5a633ed622",
        "type": "http response",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1610,
        "y": 680,
        "wires": []
    },
    {
        "id": "c301a1c1c4b6819d",
        "type": "debug",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "debug 241",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1490,
        "y": 600,
        "wires": []
    },
    {
        "id": "aadd550f57b9aa7c",
        "type": "inject",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1040,
        "y": 600,
        "wires": [
            [
                "0debe6848905e6d0"
            ]
        ]
    },
    {
        "id": "fe14d839e73913f4",
        "type": "template",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "HTML Form Template",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<form method=\"POST\" action=\"https://www.liqpay.ua/api/3/checkout\" accept-charset=\"utf-8\">\n  <input type=\"hidden\" name=\"data\" value={{{payload.data}}}>\n  <input type=\"hidden\" name=\"signature\" value={{{payload.signature}}}>\n  <input type=\"image\" src=\"//static.liqpay.ua/buttons/p1ru.radius.png\">\n</form>",
        "output": "str",
        "x": 1380,
        "y": 680,
        "wires": [
            [
                "b3febc5a633ed622",
                "c301a1c1c4b6819d"
            ]
        ]
    },
    {
        "id": "9d511cc3.3c3f8",
        "type": "http response",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1650,
        "y": 320,
        "wires": []
    },
    {
        "id": "be547d277a20b4b9",
        "type": "function",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "function 5",
        "func": "\n\nconst requestData = {\n    \"order_id\": \"12346\",\n    \"merchant_id\": '1535496',\n    \"order_desc\": \"Customer Invoice\",\n    \"amount\": \"100\",\n    \"currency\": \"\",\n    \"server_callback_url\": \"https://nodered-8981-645910bea779951100000019.ubos.tech/callback\",\n    \"response_url\": \"http://demo.merchant\",\n};\n\nconst requestDataString = JSON.stringify(requestData);\n\nconst options = {\n    hostname: 'api.fondy.eu',\n    port: 443,\n    path: '/api/checkout/url/',\n    method: 'POST',\n    headers: {\n        'Content-Type': 'application/json',\n        'Content-Length': requestDataString.length,\n        'Authorization': 'Basic ' + Buffer.from('1535496:12346').toString('base64')\n    }\n};\n\nconst req = https.request(options, (res) => {\n    console.log(`statusCode: ${res.statusCode}`);\n    res.on('data', (d) => {\n        const responseData = JSON.parse(d);\n        const paymentUrl = responseData.response.checkout_url;\n        console.log(paymentUrl);\n    });\n});\n\nreq.on('error', (error) => {\n    console.error(error);\n});\n\nreq.write(requestDataString);\nreq.end();\nmsg.invoce = {\n    \"customer\":{\n        \"name\": \"Fenota Vita\",\n        \"phone\": \"0632312354\",\n        \"email\": \"fen9206@gmail.com\",\n       \n    },\n    \"goods\":[\n        { \n            \"title\": \"Сир витриманий напівтвердий Палермо;\",\n            \"price\": \"65 грн\",\n            \"amount\": \"200\",\n            \"price_float\": \"65\",\n            \"total_price\": \"130 грн\",\n            \"total_price_float\":\"130\",\n            \"article\": \"000013\"\n\n        },\n        {\n            \"title\": \"Сир Халумі\",\n            \"price\": \"40 грн\",\n            \"amount\": \"200\",\n            \"price_float\": \"40\",\n            \"total_price\": \"80 грн\",\n            \"total_price_float\": \"80\",\n            \"article\": \"000012\"\n\n        }\n    ]\n//     \"action\": \"pay\",\n//     \"payment_id\": 2322150075,\n//     \"order_id\": \"0000001\",\n//     \"amount\": 210,\n//     \"currency\": \"UAH\",\n//     \"sender_card_bank\": \"Privat\",\n//     \"sender_card_type\": \"visa\",\n//    \"statusPay\": \"success\"\n}\n\nreturn  msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "https",
                "module": "https"
            }
        ],
        "x": 1300,
        "y": 380,
        "wires": [
            [
                "2a2777c907eb9abe",
                "9d511cc3.3c3f8"
            ]
        ]
    },
    {
        "id": "dda8eafd82a681f6",
        "type": "http in",
        "z": "b87c9b19d6d9d69c",
        "name": "",
        "url": "/createInvoice",
        "method": "put",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "85ed70e99152fd92"
            ]
        ]
    },
    {
        "id": "85ed70e99152fd92",
        "type": "function",
        "z": "b87c9b19d6d9d69c",
        "name": "change status",
        "func": "msg.collection= 'orders'\n\nmsg.query = {\n    _id: objectid(msg.payload._id)\n}\nmsg.payload = {\n    $set:{\n        status: msg.payload.status\n    }\n}\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 340,
        "y": 60,
        "wires": [
            [
                "11782bca80206388"
            ]
        ]
    },
    {
        "id": "b30b853f4cf11c84",
        "type": "http response",
        "z": "b87c9b19d6d9d69c",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 810,
        "y": 60,
        "wires": []
    },
    {
        "id": "11782bca80206388",
        "type": "link call",
        "z": "b87c9b19d6d9d69c",
        "name": "",
        "links": [
            "1764f8568a80ddbd"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 510,
        "y": 60,
        "wires": [
            [
                "b03d215c13f5124f"
            ]
        ]
    },
    {
        "id": "b03d215c13f5124f",
        "type": "function",
        "z": "b87c9b19d6d9d69c",
        "name": "res",
        "func": "msg.payload={\n    success: true,\n    payload: 'Накладна створена!'\n}\nmsg.statusCode = 200\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 60,
        "wires": [
            [
                "b30b853f4cf11c84"
            ]
        ]
    },
    {
        "id": "4d5d387e4c191d24",
        "type": "debug",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "debug 243",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1410,
        "y": 80,
        "wires": []
    },
    {
        "id": "e65c82f78f3ba2f0",
        "type": "inject",
        "z": "b87c9b19d6d9d69c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 620,
        "wires": [
            [
                "46f0b84dadf35d30"
            ]
        ]
    },
    {
        "id": "ee73d34bf12641e3",
        "type": "http response",
        "z": "b87c9b19d6d9d69c",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 750,
        "y": 300,
        "wires": []
    },
    {
        "id": "e61ed9f5b5165990",
        "type": "debug",
        "z": "b87c9b19d6d9d69c",
        "name": "debug 246",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 750,
        "y": 260,
        "wires": []
    },
    {
        "id": "95993e328ff52cfa",
        "type": "template",
        "z": "b87c9b19d6d9d69c",
        "name": "HTML Form Template",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<form action=\"https://ecg.test.upc.ua/go/pay\" method=\"post\">\n    <input name=\"Version\" type=\"hidden\" value=\"1\" />\n    <input name=\"MerchantID\" type=\"hidden\" value=\"1757955\" />\n    <input name=\"TerminalID\" type=\"hidden\" value=\"E7885805\" />\n    <input name=\"TotalAmount\" type=\"hidden\" value=\"100\" />\n    <input name=\"Currency\" type=\"hidden\" value=\"980\" />\n    <input name=\"locale\" type=\"hidden\" value=\"uk\" />\n    <input name=\"PurchaseTime\" type=\"hidden\" value=\"{{payload.PurchaseTime}}\" />\n    <input name=\"OrderID\" type=\"hidden\" value=\"{{payload.OrderID}}\" />\n    <input name=\"Signature\" type=\"hidden\" value=\"{{payload.Signature}}\" />\n    <input type=\"submit\" />\n</form>",
        "output": "str",
        "x": 520,
        "y": 300,
        "wires": [
            [
                "ee73d34bf12641e3",
                "e61ed9f5b5165990"
            ]
        ]
    },
    {
        "id": "f77b112bcc6f838e",
        "type": "function",
        "z": "b87c9b19d6d9d69c",
        "name": "function 327",
        "func": "\n\nconst MerchantID = 1757955;\nconst TerminalID = \"E7885805\";\nconst CurrencyID = 980;\nconst OrderID = Math.floor(Math.random() * 4000) + 1;\nconst PurchaseTime = 190514150000;\nconst TotalAmount = 100;\n\nconst data = `${MerchantID};${TerminalID};${PurchaseTime};${OrderID};${CurrencyID};${TotalAmount};;`;\n\n// Load your private key. \n// Note: You'll need to set up your Node-RED to access file system or use another method to get this key.\nconst privateKey = `-----BEGIN PRIVATE KEY-----\nMIICeAIBADANBgkqhkiG9w0BAQEFAASCAmIwggJeAgEAAoGBALVEippfUsFzqdP3\n+TriV5yh/LIV0mKjvEJX3N3aLg3/+Rv0iJvaN9aOCj7ZVLw8RPDwvHgOxIrxkYFT\nyeutQl0MTNpAZQG5mzOnjteyPh0oqFGJIDpgG0kWUq1RNpID8qihJV84498dUxkS\nwW7frxLGhmHJFGZofHjvOBq/tXptAgMBAAECgYEAhbxsBjkN9WxAgAMT/j3AJe/d\nYAZ5kgz7eHcanRO7ptiUEev4XgRB7iodpQDzY22T76+tXWaH23sevyvybc8GhiIE\n+eQU7wq+ffu6n9U8glfUMMqd0TCjTLGn7GbvDMR6Z60bHvtBZSSQObcnMZGG9vrr\ny76BQfhQZzR9y4rqiIECQQDa3ezbEiWIZa0iP70DQVCKBpM3ZkxO7vooBQPQLqcV\nfMK+KMCaUCoyLGScoRFyahwH91LWE+2x8espH/Rs5vhvAkEA1AWRLloLSzqP3qJ8\nBLxLEmYPetGr6kQ2FYApK9Wp8ElGazBmQItnHw0hiBSg5W5CIM9ngOkWpoSgYnJI\ngEPQ4wJBANY8IRqW+rI2hHBf344OIt3YbcXuloc1GRyPPBpNcDNyOdWVYmIqUgNm\nvN0sND3Aa8vIZgcy3pot6TgKFWF7/HUCQQDBVRI9of4KaywlZySPbONHs6kJ5YdN\n50Up9eOVBRAg+7AqrcePs44k0mRxId5VV2UVZgqLkgAFd4qIOo3B6BThAkBSCeQX\n5DHaZe5f24R2+UDEDbNgQDiCoTygI5PApYefWnofPn3znBgvOXllyE6Y4i4icylY\nh8Npbdc+Qan8gop7\n-----END PRIVATE KEY-----`\n\nconst sign = crypto.createSign('SHA1');\nsign.update(data);\nconst signature = sign.sign(privateKey);\n\nconst b64sign = signature.toString('base64');\n\nmsg.payload = {\n    PurchaseTime: PurchaseTime,\n    Signature: b64sign,\n    OrderID: OrderID\n\n};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "crypto",
                "module": "crypto"
            }
        ],
        "x": 310,
        "y": 300,
        "wires": [
            [
                "95993e328ff52cfa",
                "e61ed9f5b5165990"
            ]
        ]
    },
    {
        "id": "3b1f111fbec5d5e4",
        "type": "debug",
        "z": "b87c9b19d6d9d69c",
        "name": "debug 249",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 620,
        "wires": []
    },
    {
        "id": "9f814634dd366cd8",
        "type": "http in",
        "z": "b87c9b19d6d9d69c",
        "name": "",
        "url": "/getstatus",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 180,
        "wires": [
            [
                "f75afd01a070ae10"
            ]
        ]
    },
    {
        "id": "f75afd01a070ae10",
        "type": "debug",
        "z": "b87c9b19d6d9d69c",
        "name": "debug 4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 340,
        "y": 180,
        "wires": []
    },
    {
        "id": "32ef3e7c40e4c638",
        "type": "comment",
        "z": "b87c9b19d6d9d69c",
        "name": "статус оплати",
        "info": "",
        "x": 120,
        "y": 140,
        "wires": []
    },
    {
        "id": "46f0b84dadf35d30",
        "type": "function",
        "z": "b87c9b19d6d9d69c",
        "name": "test2",
        "func": "const privateKey = `-----BEGIN PRIVATE KEY-----\nMIICeAIBADANBgkqhkiG9w0BAQEFAASCAmIwggJeAgEAAoGBALVEippfUsFzqdP3\n+TriV5yh/LIV0mKjvEJX3N3aLg3/+Rv0iJvaN9aOCj7ZVLw8RPDwvHgOxIrxkYFT\nyeutQl0MTNpAZQG5mzOnjteyPh0oqFGJIDpgG0kWUq1RNpID8qihJV84498dUxkS\nwW7frxLGhmHJFGZofHjvOBq/tXptAgMBAAECgYEAhbxsBjkN9WxAgAMT/j3AJe/d\nYAZ5kgz7eHcanRO7ptiUEev4XgRB7iodpQDzY22T76+tXWaH23sevyvybc8GhiIE\n+eQU7wq+ffu6n9U8glfUMMqd0TCjTLGn7GbvDMR6Z60bHvtBZSSQObcnMZGG9vrr\ny76BQfhQZzR9y4rqiIECQQDa3ezbEiWIZa0iP70DQVCKBpM3ZkxO7vooBQPQLqcV\nfMK+KMCaUCoyLGScoRFyahwH91LWE+2x8espH/Rs5vhvAkEA1AWRLloLSzqP3qJ8\nBLxLEmYPetGr6kQ2FYApK9Wp8ElGazBmQItnHw0hiBSg5W5CIM9ngOkWpoSgYnJI\ngEPQ4wJBANY8IRqW+rI2hHBf344OIt3YbcXuloc1GRyPPBpNcDNyOdWVYmIqUgNm\nvN0sND3Aa8vIZgcy3pot6TgKFWF7/HUCQQDBVRI9of4KaywlZySPbONHs6kJ5YdN\n50Up9eOVBRAg+7AqrcePs44k0mRxId5VV2UVZgqLkgAFd4qIOo3B6BThAkBSCeQX\n5DHaZe5f24R2+UDEDbNgQDiCoTygI5PApYefWnofPn3znBgvOXllyE6Y4i4icylY\nh8Npbdc+Qan8gop7\n-----END PRIVATE KEY-----`\n\n\n\nconst MerchantID = \"1757955\";\nconst TerminalID = \"E7885805\";\nconst CurrencyID = 980;\nconst OrderID = Math.floor(Math.random() * 4000) + 1;\nconst PurchaseTime = 190514150000;\nconst TotalAmount = 100;\n\nconst data = `${TerminalID};${MerchantID};${PurchaseTime};${OrderID};${CurrencyID};${TotalAmount};;`;\n\nnode.warn(data)\nconst header = {\n    \"alg\": \"RS256\"\n};\n\nfunction base64UrlEncode(str) {\n    return Buffer.from(str).toString('base64')\n\n}\n\n\nconst encodedHeader = `eyJhbGciOiJSUzI1NiJ9`;\nconst encodedPayload = `eyJleHBpcmF0aW9uRGF0ZSI6MywiaW52b2ljZUxpbmtWaWV3VHlwZSI6IkxJTksiLCJsb2NhbGUiOiJVSyIsIm9wZXJhdGlvblR5cGUiOiIwIiwib3JkZXJJbmZvIjp7ImFtb3VudCI6IjEwMCIsImN1cnJlbmN5Q29kZSI6Ijk4MCIsImRlc2NyaXB0aW9uIjoiJ3Rlc3QnIiwib3JkZXJEYXRlIjoiMjAyMy0xMS0xMCAxNTozMjoyMiswMzAwIiwib3JkZXJJZCI6IjY3MyJ9LCJ0ZXJtaW5hbEluZm8iOnsibWVyY2hhbnRJZCI6IjE3NTc5NTUiLCJ0ZXJtaW5hbElkIjoiRTc4ODU4MDUifX0=`;\n\nmsg.encodedHeader = encodedHeader;\nmsg.encodedPayload = encodedPayload;\n\nconst tokenBase = `${encodedHeader}${encodedPayload}`\nconst sign = crypto.createSign('SHA1');\nsign.update(tokenBase);\nconst signature = sign.sign(privateKey);\n\nconst b64sign = signature.toString('base64');\n\n\nnode.warn(b64sign);\nmsg.payload = {\n    header: encodedHeader,\n    payload: encodedPayload,\n    signature: b64sign\n};\n\n\n\n\nreturn msg\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "crypto",
                "module": "crypto"
            },
            {
                "var": "fs",
                "module": "fs"
            }
        ],
        "x": 270,
        "y": 620,
        "wires": [
            [
                "46e766d035a29072"
            ]
        ]
    },
    {
        "id": "46e766d035a29072",
        "type": "http request",
        "z": "b87c9b19d6d9d69c",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://ecg.test.upc.ua/dashboard/api/public/merchant-invoices",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": {
            "Content-Type": "application/jwt"
        },
        "x": 470,
        "y": 620,
        "wires": [
            [
                "3b1f111fbec5d5e4"
            ]
        ]
    },
    {
        "id": "c6c282ce867c5a61",
        "type": "http in",
        "z": "b87c9b19d6d9d69c",
        "g": "069093a0339fea69",
        "name": "",
        "url": "/testq",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 1100,
        "y": 380,
        "wires": [
            [
                "be547d277a20b4b9"
            ]
        ]
    },
    {
        "id": "18673cc39689c6e6",
        "type": "function",
        "z": "70e61bdba033aaf8",
        "name": "test structure",
        "func": "msg.payload = [\n\n    {\n        \"key\": objectid(),\n        \"type\": \"етап\",\n        \"name\": \"Урбан концепт LOD 0\",\n        \"status\": \"\",\n        \"deadline\": \"\",\n        \"customer\": \"\",\n        \"client\": \"\",\n        \"difference\": \"\",\n        \"performer\": \"\",\n        \"children\": [\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Аналіз існуючої містобудівної ситуації (1-й Етап 30%)\",\n                \"status\": \"\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Аналіз існуючої ситуації відповідно до призначення об'єкту\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Аналіз робочих/житлових/рекреаційних та інших просторів\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Перспектива розвітку ділянки разом з містом\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Типологія зовнішніх та внутрішніх просторів\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Розташування ділянки в місті\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Ситуаційний план\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Функціональне зонування району (існуюче)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Існуюча інфраструктура. Оточуюча забудова району (існуючий стан: освітні заклади, оздоровчі заклади, торгівельні заклади, пам’ятки історії та архітектури, інші)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Транспортна інфраструктура\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Громадський транспорт\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Пішохідні потоки і простори. Існуючи велодоріжки (якщо є в наявності поблизу)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Існуючи зелені зони, зони відпочинку (радіуси доступності\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема планувальних обмежень\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Аналіз рельєфу (основні відмітки існуючого рельєфу, відмітки існуючих будівель оточуючого середовища)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Аналіз переваг та перспективний розвиток ділянки (висновки)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Фотофіксація\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"status\": \"\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"name\": \"Деталізація програми забудови (2-й Етап 40%)\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема формоутворення\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема забудови (об'ємна)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема майстер-плану\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема ділення на черги та пускові комплекси\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема функціонального зонування території\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема функціонального зонування будівель (об'ємна)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схеми взаімоз'язків транспортних потоків різного типу\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схеми взаімоз'язків пішохідних та велосипедних потоків\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема зберігання автотранспорту\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Типологія внутрішніх та зовнішніх просторів (ландшафтне рішення, благоустрій)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схеми планів поверхів (укрупненно, зонування)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Розрізи (кількість за необхідністю для розкриття ідеї)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Техніко-економічні показники загальні (включає ТЕП ділянки орієнтовний, ТЕП по чергах орієнтовний з вказанням кожного виду комерційної площі)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Додатковий презентаційний матеріал (3-й Етап 30%)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Візуалізації (кількість для рокриття ідеї) 10 шт\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Відеографічна подача (презентабельне,комерційне відео для партнерів)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Урбан-Концепт Альбом в друкованому вигляді, зшитий (презентабельний)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            }\n        ]\n    },\n    {\n        \"key\": objectid(),\n        \"type\": \"етап\",\n        \"name\": \"Архітектурна концепція (АК) LOD50\",\n        \"deadline\": \"\",\n        \"customer\": \"\",\n        \"client\": \"\",\n        \"difference\": \"\",\n        \"performer\": \"\",\n        \"children\": [\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Деталізація генерального плану (1-й Етап 30%)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема генерального плану\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Техніко економічні показники генерального плану\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема зонування території з типологієї просторів\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема концептуального благоустрою\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема транспортних з'язків по території (пішохідні, велосипедні, індивідуального транспорту, спеціального транспорту)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема організації рельєфу (основні відмітки та перепади)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема інсоляції з зазначенням неінсолюючих приміщень (інсоляція існуючих будівель та проектних будівель)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема сміттєвидалення, розрахунок площі зон тимчасового зберігання сміття, тип зберігання сміття\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Евакуаційна схема по поверхах та території\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема роботи пожежного автотранспорту\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема завантаження комерційних приміщень по території та поверхах\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Деталізація будівель (2-й Етап 40%)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Планування всіх типових та нетипових поверхів (опрацьованих з інженерами та конструкторами)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Розрізи по будинках (відмітки, тип конструкцій наповнення підлог, стін)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Фасади будинків з позначенням матеріалів\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Технiко-економiчнi показники\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Участь в розробки КТР по прийнятим рішенням\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель з набіркою всіх зон, в форматі pla, IFC, BIMx, згідно вимог Замовника\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вiзуалiзацiї від 4 шт\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Об'єми згідно LOD50\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Концептуальний дизайн МЗК та ліфтових холів\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Планування зон згідно дизайн проекту з розташуванням меблів, декорів, тощо.)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Візуалізації дизайну (кількісь що дозволяє розкрити ідею)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Додатковий презентаційний матеріал (3-й Етап 30%)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Відеоматеріал згідно маркетингової концепції для зовнішнього ринку\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комерційні візуалізації\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Комплект продажної документації\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект документації для продажів, виконаний згідно регламенту\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            }\n        ]\n    },\n    {\n        \"key\": objectid(),\n        \"type\": \"етап\",\n        \"name\": \"Інженерна концепція (ІК) LOD100\",\n        \"deadline\": \"\",\n        \"customer\": \"\",\n        \"client\": \"\",\n        \"difference\": \"\",\n        \"performer\": \"\",\n        \"children\": [\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Архітектурні рішення (АР)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Рецензія на Архітектурну концепцію\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Адаптація технологічних рішень\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Плани, фасади, розрізи (формат PDF)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Плани, фасади, розрізи (формат dwg)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Техніко економічні показникі (згідно ДБН та вимог замовника)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Завдання для конструкторів\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Завдання для інженерів\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель в форматі BIMx\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель в форматі IFC\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зведена 3D-модель (АР+КБ+Інж)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Об'єми згідно LOD100\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Том Ескізного проекту\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Комплект продажної документації\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект документації для продажів, виконаний згідно регламенту\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Генеральний план (ГП)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема генерального плану 1:1000 в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Ситуаційна схема розміщення об'єкту в місті в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема ГП з розбивкою на черги в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема функціонального зонування території та організація систем обслуговування М1:2000 в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Техніко економічні показники генерального плану\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Інсоляційна схема М 1:500 у форматі PDF та dwg;\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Принциповий концепт благоустрою в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Принципове рішення типів покритів в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Конструкції покритів в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Принціпові ріщення деталей, вузлів в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зведений план інженерних мереж в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема покритів в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Об'єми згідно LOD100\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Том Ескізного проекту\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Конструктив (КБ)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Визначення конструктивної схеми\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Визначення сітки колон (пілонів), ядра жорсткості та інше.\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Розрахункова модель\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Пояснювальна записка в довільній формі. Аналіз прийнятого рішення\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Креслення у форматі pdf\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Креслення у форматі dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель в форматі IFC\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Об'єми згідно LOD100\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Водопостачання та каналізація (ВК)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Опитувальні листи встановленого зразка у форматі PDF з розрахунками;\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Передбачувані/пропоновані місця інженерних приміщень з їх площею і відображенням на плані поверху в форматі PDF\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Наявність і місця для стояків, місця для поверхових шаф, ревізій, ніш з відображенням на плані поверху у форматі PDF\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель ifc\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ опалення, вентиляція та кондиціонування (ОВіК)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Опитувальні листи встановленого зразка у форматі PDF з розрахунками;\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Передбачувані/пропоновані місця інженерних приміщень з їх площею і відображенням на плані поверху в форматі PDF\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зони встановлення зовнішніх блоків кондиціонерів житлових приміщень і комерції (за необхідності) з відображенням на плані поверху в форматі PDF\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Плями вентблоків / вентканалів з відображенням на плані поверху в форматі PDF\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Наявність і місця для стояків, місця для поверхових шаф, ревізій, ніш з відображенням на плані поверху у форматі PDF\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель ifc\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Електротехнічні рішення (ЕТР)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Опитувальні листи встановленого зразка у форматі PDF з розрахунками;\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Передбачувані/пропоновані місця інженерних приміщень з їх площею і відображенням на плані поверху в форматі PDF\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Наявність і місця для стояків, місця для поверхових шаф, ревізій, ніш з відображенням на плані поверху у форматі PDF\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель ifc\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Пожежної безпеки (ПБ)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Опитувальні листи встановленого зразка у форматі PDF з розрахунками;\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Передбачувані/пропоновані місця інженерних приміщень з їх площею і відображенням на плані поверху в форматі PDF\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Наявність і місця для стояків, місця для поверхових шаф, ревізій, ніш з відображенням на плані поверху у форматі PDF\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель ifc\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Зовнішні інженерні мережі з Водопостачання та каналізації (ЗІМ-ВК)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зовнішні мережі ВК: проходження, концепція та підключення (ІК)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Зовнішні інженерні мережі з Теплопостачання (ЗІМ-ТМ)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зовнішні мережі Теплопостачання: проходження, концепція та підключення (ІК)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Зовнішні інженерні мережі з Електротехнічних рішень (ЗІМ-ЕТР)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зовнішні мережі ЕТР, ЕО: проходження, концепція та підключення (ІК)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Зовнішні інженерні мережі з Системи зв'язку (ЗІМ-СЗ)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зовнішні мережі СС, СЗ: проходження, концепція та підключення (ІК)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Концепція організації будівництва (ПОБ)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Концепція організації будівництва\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Концепція організації дорожнього руху (ОДР)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Концепція організації дорожнього руху\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Концепція енергоефективності та енергозбреження (ЕЕ)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Концепція енергоефективності та енергозбреження\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Аналіз необхідності влаштування СПП (ІТЗ)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Аналіз необхідності влаштування СПП\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            }\n        ]\n    },\n    {\n        \"key\": objectid(),\n        \"type\": \"етап\",\n        \"name\": \"Проектування стадії Проект LOD200\",\n        \"deadline\": \"\",\n        \"customer\": \"\",\n        \"client\": \"\",\n        \"difference\": \"\",\n        \"performer\": \"\",\n        \"children\": [\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Архітектурні рішення (АР) - LOD200\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект для експертизи (docx, pdf) для завантаження в ЕДССБ (окремо ПЗ, додаткові ТЕП, окремі плани, фасади)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Технологічні рішення об'єкта\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Плани, фасади, розрізи з фврхуванням повної ув'язки з розділами КБ, ІНЖ, ПБ та інш. у форматах PDF та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Техніко економічні показникі (згідно ДБН та вимог замовника)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Завдання для конструкторів\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Завдання для інженерів\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель в форматі BIMx\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель в форматі IFC\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зведена 3D-модель (АР+КБ+Інж)  ifc / nwd\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Об'єми згідно LOD200\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Комплект продажної документації - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект документації для продажів, виконаний згідно регламенту\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Генеральний план (ГП) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект для експертизи (docx, pdf)(окремо ПЗ, окремий файл з основною схемою)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема генерального плану 1:1000 в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Ситуаційна схема розміщення об'єкту в місті М1:10000 в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Генеральний план М1:500 в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Техніко економічні показники генерального плану\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"План благоустрою та озеленення М 1:500 в форматах pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Схема транспортно-пішохідних зв’язків М 1:500 у форматі PDF та dwg;\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Інсоляційна схема М 1:500 у форматі PDF та dwg;\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зведений план внутрішньоквартальних інженерних мереж М 1:500 у форматі PDF та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"План організації рельєфу М 1:500 у форматі PDF та dwg;\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"План земляних мас М 1:500 у форматі PDF та dwg;\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Об'єми згідно LOD100 (Вивантаженні об’єми матеріалів благоустрою: загальна площа асфальтування, загальна площа оздоблення зелених зон, довжина бордюрних каменів, загальна площа мощення)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Конструктив (КБ) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект для експертизи (docx, pdf)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Визначення сітки колон (пілонів), ядра жорсткості та інше.\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Уточнена конструктивна схема / Розрахункова модель\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Пояснювальна записка в довільній формі. Аналіз прийнятого рішення\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Креслення у форматі pdf\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Креслення у форматі dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель в форматі IFC\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Об'єми згідно LOD200\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Водопостачання та каналізація (ВК) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект для експертизи (docx, pdf)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Принципові схеми систем та обладнання по розділам у форматі pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень з нанесеними та ув'язаними з іншими розділами місцями інженерних приміщень з їх площею та обладнанням технічними коридорами основних мереж, стояками, шахтами, ревізіями і т.д. у форматі pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель ifc та rvt що пройшла координацію з іншими розділами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ опалення, вентиляція та кондиціонування (ОВіК) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект для експертизи (docx, pdf)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Принципові схеми систем та обладнання по розділам у форматі pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень з нанесеними та ув'язаними з іншими розділами місцями інженерних приміщень з їх площею та обладнанням технічними коридорами основних мереж, плямами вентблоків, зовнішніх блоків кондиціонерів, їх дренаж, стояками, шахтами, ревізіями і т.д. у форматі pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель ifc та rvt що пройшла координацію з іншими розділами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Електротехнічні рішення (ЕТР) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект для експертизи (docx, pdf)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Принципові схеми систем та обладнання по розділам у форматі pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень з нанесеними та ув'язаними з іншими розділами місцями інженерних приміщень з їх площею та обладнанням технічними коридорами основних мереж, стояками, шахтами, ревізіями і т.д. у форматі pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель ifc та rvt що пройшла координацію з іншими розділами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Пожежної безпеки (ПБ) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект для експертизи ПС, ОП, ДВ, АК, ОС, АКГ, АПГ, БЗ (docx, pdf)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідні файли у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Передбачувані/пропоновані місця інженерних приміщень з їх площею і відображенням на плані поверху в форматі PDF, dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Наявність і місця для стояків, місця для поверхових шаф, ревізій, ніш з відображенням на плані поверху у форматі PDF, dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Модель ifc та rvt що пройшла координацію з іншими розділами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Індивідуальний тепловий пункт (ІТП) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Індивідуальний тепловий пункт у форматі pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Внутрішні системи зв'язку (СЗ) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Внутрішні системи зв'язку у форматі pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Автоматизація та диспетчеризація інженерних систем (АК) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Автоматизація та диспетчеризація інженерних систем у форматі pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Проект (ПОБ) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Проект організації будівництва у форматі pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Оцінка впливів на навколишнє середовище (ОВНС) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Оцінка впливів на навколишнє середовище pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Енергоефективність (ЕЕ) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Енергоефективність pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Захист від шуму та вібрації (ЗШ) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Захист від шуму pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Розрахунок часу евакуації людей (РЧЕ) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Розрахунок часу евакуації pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Інженерно-технічні заходи по запобіганню аварійних ситуації та ліквідація наслідків (ІТЗ) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Інженерно-технічні заходи по запобіганню аварійних ситуації та ліквідація наслідків pdf та dwg\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Оцінка вогнестійкості будівельних конструкцій (ОВБК) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень  pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Розрахунок на стійкість до прогресуючого обвалення внаслідок пожежі (РСПО) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень  pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Дахова газова котельня. Тепло-механічні рішення (ТМК) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Дахова газова котельня. Тепло-механічні рішення pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Зовнішні інженерні мережі з Водопостачання та каналізації (ЗІМ-ВК)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зовнішні мережі ВК: проходження, концепція та підключення (ІК)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Зовнішні інженерні мережі з Теплопостачання (ЗІМ-ТМ)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зовнішні мережі Теплопостачання: проходження, концепція та підключення (ІК)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Зовнішні інженерні мережі Електропостачання. Трансформаторна підстанція (ЗІМ-ЕП ТП)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зовнішні мережі ЕП, ТП\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Зовнішні інженерні мережі Система зв’язку зовнішнє (ЗІМ-СЗЗ)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зовнішні мережі Система зв’язку зовнішнє (ІК)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Розділ Електроосвітлення зовнішнє* (ЕЗ) - LOD200\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Комплект креслень Електроосвітлення зовнішнє pdf та dwg\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"група\",\n                \"name\": \"Зовнішні інженерні мережі Газопостачання зовнішнє (ЗІМ-ГПЗ)\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Зовнішні мережі Система зв’язку зовнішнє (ІК)\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"задача\",\n                        \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                        \"status\": \"\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true\n                    }\n                ]\n            }\n        ]\n    },\n    {\n        \"key\": objectid(),\n        \"type\": \"етап\",\n        \"name\": \"Робоча документація (РД) LOD 300\",\n        \"status\": \"\",\n        \"deadline\": \"\",\n        \"customer\": \"\",\n        \"client\": \"\",\n        \"difference\": \"\",\n        \"performer\": \"\",\n        \"children\": [\n            {\n                \"key\": objectid(),\n                \"type\": \"секція\",\n                \"name\": \"Матеріали об'єднаних секцій '00'\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Комплект продажної документації - LOD300\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект документації для продажів, виконаний згідно регламенту\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Розділи пожежної безпеки\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - АПГ Автоматична система спринклерного водяного пожежогасіння у форматах pdf, dwg, ifc, rvt\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - БЗ Зовнішня блискавкозахисна система у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - ОС Система пожежної сигналізації у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - ОП Система оповіщення про пожежу у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - ППГ Автоматична система порошкового пожежогасіння у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - ДВ Системи протидимного захисту у форматах pdf, dwg, ifc, rvt\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - АК Автоматизація систем протидимного захисту. Автоматизація протипожежних клапанів. Автоматизація внутрішнього протипожежного водопроводу у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - ОС Система охоронної сигналізації у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - АКГ1 Система автоматичної сигналізації довибухонебезпечних концентрацій газу метану у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - АКГ2 Система автоматичної сигналізації мікроконцентрацій чадного газу у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Генеральний план (ГП) - LOD300\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Генеральний план М1:500 в форматах pdf та dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Техніко економічні показники генерального плану\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"План благоустрою та озеленення М 1:500 в форматах pdf та dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Схема транспортно-пішохідних зв’язків М 1:500 у форматі PDF та dwg;\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Зведений план внутрішньоквартальних інженерних мереж М 1:500 у форматі PDF та dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"План організації рельєфу М 1:500 у форматі PDF та dwg;\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"План земляних мас М 1:500 у форматі PDF та dwg;\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Об'єми згідно LOD300 (Вивантаженні об’єми матеріалів благоустрою: загальна площа асфальтування, загальна площа оздоблення зелених зон, довжина бордюрних каменів, загальна площа мощення)\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Зовнішні інженерні мережі з Водопостачання та каналізації (ЗІМ-ВК)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Зовнішні мережі ВК\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Зовнішні інженерні мережі Електропостачання. Трансформаторна підстанція (ЗІМ-ЕП ТП)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Зовнішні мережі ЕП, ТП\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Зовнішні інженерні мережі з Теплопостачання (ЗІМ-ТМ)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Зовнішні мережі Теплопостачання: проходження, концепція та підключення (ІК)\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Винос інженерних мереж з під плям забудови\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Винос інженерних мереж з під плям забудови\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Позамайданчикове проектування (ПМП)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Позамайданчикове проектування' у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"План організації будівництва (ПОБ)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'План організації будівництва' у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"План підготовчих робіт (ППР)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'План підготовчих робіт' (ППР) у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"План виконання будівельних робіт (ПВР)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'План виконання будівельних робіт' (ПВР) у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Вертикальний транспорт (ВТ)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Вертикальний транспорт' у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Технологічні рішення (ТХ)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Технологічні рішення' у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Підсвітка фасадів (ПСФ)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Концепція підсвітки фасадів' у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Робочий проект підсвітки фасадів' у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Робочий проект фасадів (СПОК)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Фасадів та СПОК' у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Дизайн проект МЗК\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Дизайн головних холів' у форматі PDF та dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Дизайн типових поверхів' у форматі PDF та dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Холодопостачання та кондиціонування (ХП)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Холодопостачання та кондиціонування' у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Дренажна система в межах будівельного майданчика (ДС)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Дренажна система в межах будівельного майданчика' у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Дублюючий розрахунок будівельних конструкцій (ДР)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Дублюючий розрахунок будівельних конструкцій' у форматі PDF\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Дублююча розрахункова схема\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Авторський нагляд - Архітектурні рішення (АН-АР)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Десять виїздів на майданчик головного спеціаліста\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Авторський нагляд - Конструкції будівельні (АН-КБ)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Десять виїздів на майданчик головного спеціаліста\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Авторський нагляд - Інженерні мережі (АН-ІНЖ)\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Десять виїздів на майданчик головного спеціаліста\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    }\n                ]\n            },\n            {\n                \"key\": objectid(),\n                \"type\": \"секція\",\n                \"name\": \"Комплект для секції '01'\",\n                \"deadline\": \"\",\n                \"customer\": \"\",\n                \"client\": \"\",\n                \"difference\": \"\",\n                \"performer\": \"\",\n                \"isAction\": true,\n                \"children\": [\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"АРХІТЕКТУРНІ РІШЕННЯ (АР) - LOD300\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Модель у форматі IFC\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"АР.1 Плани\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"АР.2 Розрізи\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"АР.3 Фасади\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"АР.С Специфікації\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"АР.В Відомості\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"АР.Д1 Деталі та вузли\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"АР.Д2 Індивідуальні вироби\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"АР.Ф Паспорт опорядження фасадів\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Об'єми згідно LOD300\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Модель у форматі BIMx з комплектом креслень, що відповідають підкомплектам\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Конструктивні рішення\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Розрахункова схема будівлі\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Модель IFC\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"КБ.1 - Підготовчі конструкції\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"КБ.2 - Фундаменти\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"КБ.3.1 - Вертикальні елементи до типового поверху\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"КБ.3.2 - Вертикальні елементи типового поверху\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"КБ.3.3 - Вертикальні елементи верхніх поверхів\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"КБ.4.1 - Плити перекриття до типового поверху\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"КБ4.2 - Плити перекриття типових поверхів\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"КБ4.3 - Плити перекриття верхніх поверхів\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"КБ.5 - Сходи, пандуси, рампи\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"КБ.6 - Ганки, приямки\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Розділ Водопостачання та каналізація (ВК) - LOD300\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Водопостачання та каналізація' у форматі pdf та dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Модель ifc та rvt що пройшла координацію з іншими розділами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Розділ опалення, вентиляція та кондиціонування (ОВіК) - LOD300\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'опалення, вентиляція та кондиціонування' у форматі pdf та dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Модель ifc та rvt що пройшла координацію з іншими розділами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Розділ Електротехнічні рішення (ЕТР) - LOD300\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Електротехнічні рішення' у форматі pdf та dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Модель ifc та rvt що пройшла координацію з іншими розділами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Розділ Системи зв'язку (СЗ) - LOD300\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Вихідний файл у нативному форматі з усіма підключеними бібліоткеами, видами, листами\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"Комплект креслень 'Системи зв'язку' у форматі pdf та dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"key\": objectid(),\n                        \"type\": \"група\",\n                        \"name\": \"Розділи пожежної безпеки\",\n                        \"deadline\": \"\",\n                        \"customer\": \"\",\n                        \"client\": \"\",\n                        \"difference\": \"\",\n                        \"performer\": \"\",\n                        \"isAction\": true,\n                        \"children\": [\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - АПГ Автоматична система спринклерного водяного пожежогасіння у форматах pdf, dwg, ifc, rvt\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - БЗ Зовнішня блискавкозахисна система у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - ОС Система пожежної сигналізації у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - ОП Система оповіщення про пожежу у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - ППГ Автоматична система порошкового пожежогасіння у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - ДВ Системи протидимного захисту у форматах pdf, dwg, ifc, rvt\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - АК Автоматизація систем протидимного захисту. Автоматизація протипожежних клапанів. Автоматизація внутрішнього протипожежного водопроводу у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - ОС Система охоронної сигналізації у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\"\n                            },\n                            {\n                                \"key\": objectid(),\n                                \"type\": \"задача\",\n                                \"name\": \"DF - АКГ2 Система автоматичної сигналізації мікроконцентрацій чадного газу у форматах pdf, dwg\",\n                                \"status\": \"\",\n                                \"deadline\": \"\",\n                                \"customer\": \"\",\n                                \"client\": \"\",\n                                \"difference\": \"\",\n                                \"performer\": \"\",\n                                \"isAction\": true\n                            }\n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n]\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "objectid",
                "module": "objectid"
            }
        ],
        "x": 370,
        "y": 160,
        "wires": [
            [
                "f558bf37bdf50725"
            ]
        ]
    },
    {
        "id": "4df45d5b61993c5d",
        "type": "http in",
        "z": "70e61bdba033aaf8",
        "name": "",
        "url": "/dataTest",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 190,
        "y": 160,
        "wires": [
            [
                "18673cc39689c6e6"
            ]
        ]
    },
    {
        "id": "f558bf37bdf50725",
        "type": "http response",
        "z": "70e61bdba033aaf8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 550,
        "y": 160,
        "wires": []
    },
    {
        "id": "10f5cb0fba87cdc0",
        "type": "function",
        "z": "48bc075398022cd7",
        "name": "function 335",
        "func": "msg.payload = {\n    result:{\n    // chat_output_key: 'rgrg',\n        message: msg.payload.choices[0].message.content,\n        // sessionId: 'sd'\n    }\n\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 260,
        "wires": [
            [
                "79378f16e1432229"
            ]
        ]
    },
    {
        "id": "2d417ee2d1bcd1ed",
        "type": "http in",
        "z": "48bc075398022cd7",
        "name": "",
        "url": "/api/v1/process/3213213",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 260,
        "wires": [
            [
                "92c14caac6ccf4ce",
                "d3604612619532b4"
            ]
        ]
    },
    {
        "id": "92c14caac6ccf4ce",
        "type": "debug",
        "z": "48bc075398022cd7",
        "name": "debug 256",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 200,
        "wires": []
    },
    {
        "id": "79378f16e1432229",
        "type": "http response",
        "z": "48bc075398022cd7",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 850,
        "y": 260,
        "wires": []
    },
    {
        "id": "d3604612619532b4",
        "type": "function",
        "z": "48bc075398022cd7",
        "name": "function 337",
        "func": "msg.payload = {\n    \"model\": \"gpt-3.5-turbo\",\n    \"messages\": [\n        {\n            \"role\": \"system\",\n            \"content\": \"You are a helpful assistant.\"\n        },\n        {\n            \"role\": \"user\",\n            \"content\": msg.payload.inputs.input\n        }\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 260,
        "wires": [
            [
                "ca349286d6916404"
            ]
        ]
    },
    {
        "id": "ca349286d6916404",
        "type": "http request",
        "z": "48bc075398022cd7",
        "name": "",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://api.openai.com/v1/chat/completions",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "bearer",
        "senderr": false,
        "headers": [],
        "x": 550,
        "y": 260,
        "wires": [
            [
                "10f5cb0fba87cdc0"
            ]
        ]
    },
    {
        "id": "8c6c2c4052f2150f",
        "type": "inject",
        "z": "48bc075398022cd7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 420,
        "wires": [
            [
                "a9ee46f6802f2a0e"
            ]
        ]
    },
    {
        "id": "a9ee46f6802f2a0e",
        "type": "function",
        "z": "48bc075398022cd7",
        "name": "function 338",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 420,
        "wires": [
            [
                "b9aad75b8444de20"
            ]
        ]
    },
    {
        "id": "b9aad75b8444de20",
        "type": "http request",
        "z": "48bc075398022cd7",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://pixabay.com/api/?key=41682017-42fc3ad3431ca5f9c09075c1c&q=cat",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 470,
        "y": 420,
        "wires": [
            [
                "ebb4df737ad933d3"
            ]
        ]
    },
    {
        "id": "ebb4df737ad933d3",
        "type": "debug",
        "z": "48bc075398022cd7",
        "name": "debug 257",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 530,
        "y": 360,
        "wires": []
    }
]